<%= render 'shared/redirect_not_login' %>
<% provide(:title, '確認画面') %>
<h1>ユーザ削除確認</h1>

<div class="alert alert-danger h4" role="alert">ユーザを削除するとサービスが利用できなくなります。
<br />削除したユーザは元に戻せません。
<br />また、ユーザを削除しても借用記録は残ります。
</div>

<%= form_tag "/user", :class => "form-horizontal", :role => "form" do %>

<div class="form-group">
<%= label_tag :password, "", :class => "col-sm-3 control-label" do %>
<span class="mark_of_required">*</span>パスワード
<% end %>
<div class="col-sm-5">
  <%= password_field_tag :password, '', :required => 'required', :maxlength => 256, :pattern => '^[!-~]{8,}$', :class => "form-control"%>
  <div class="alert alert-info col-xs-offset-2" role="alert" id="info_input_password" style="display: none; z-index: 2; position:absolute">
    <b>長さ:</b>8-256文字<br>
    <b>使用できる文字:</b>半角英数字<br>
    <b>使用できる記号(半角):</b> ! " # $ % & ' ( ) * + , - . / : ; < = > ? @ [ \ ] ^ _ ` { | } ~
  </div>

  <% if flash[:error] == 5 %>
    <span class="help-block error_message">パスワードのフォーマットが間違っています。</span>
  <% end %>
</div>
</div>

<div class="form-group">
  <%= label_tag :password_confirmation, "", :class => "col-sm-3 control-label" do%>
  <span class="mark_of_required">*</span>パスワードの確認
<% end %>
<div class="col-sm-5">
  <%= password_field_tag :password_confirmation, '', :required => 'required', :maxlength => 256, :pattern => '^[!-~]{8,}$', :class => "form-control"%>
  <div class="alert alert-info col-xs-offset-2" role="alert" id="info_input_password_confirmation" style="display: none; z-index: 2; position:absolute"><b>確認のため, パスワードをもう一度入力してください。</b></div>
  <% if flash[:error] == 4 %>
    <span class="help-block error_message">入力したパスワードが一致しません。</span>
  <% end %>
  <% if flash[:error] == 9 %>
    <span class="help-block error_message">入力したパスワードが間違っています。</span>
  <% end %>

</div>
</div>



<div class="form-group">
  <label class="col-sm-offset-3 control-label">
    借用記録に表示される名前を削除したい場合はチェックしてください。
  </label>
  <br>
  <div class="col-sm-offset-3 col-sm-9 hidden-xs">
    <%= check_box_tag 'delete_name', true, false %> : 名前を削除する
</div>
<br>
<br>
</div>

<div class="form-group">
  <div class="col-sm-offset-3 col-sm-9 hidden-xs">

    <%= button_to "ユーザを削除する", {:controller => "user", :action => "delete"}, :confirm => "「ユーザを削除しますがよろしいですか？", :method => "delete", :class => 'btn btn-default btn-danger'%>
<% end %>
<br>
<%= button_to "サービスの利用を続ける", "/", :class => 'btn btn-default' %>
</div>
</label>
</div>
