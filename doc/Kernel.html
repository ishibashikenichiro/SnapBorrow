<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Kernel
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Kernel.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (K)</a> &raquo;
    
    
    <span class="title">Kernel</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Kernel
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">object.c</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__callee__-instance_method" title="#__callee__ (instance method)">- (Object) <strong>__callee__</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the name of the current method as a Symbol.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__method__-instance_method" title="#__method__ (instance method)">- (Object) <strong>__method__</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the name of the current method as a Symbol.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%60-instance_method" title="#` (instance method)">- (String) <strong>`</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the standard output of running <em>cmd</em> in a subshell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abort-instance_method" title="#abort (instance method)">- (Object) <strong>abort</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Terminate execution immediately, effectively by calling Kernel.exit(false).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Array-instance_method" title="#Array (instance method)">- (Array) <strong>Array</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns arg as an Array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_exit-instance_method" title="#at_exit (instance method)">- (Proc) <strong>at_exit</strong> { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts <em>block</em> to a <code>Proc</code> object (and therefore binds
it at the point of call) and registers it for execution when the program
exits.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoload-instance_method" title="#autoload (instance method)">- (nil) <strong>autoload</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers <em>filename</em> to be loaded (using Kernel::require) the first
time that <em>module</em> (which may be a String or a symbol) is accessed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoload%3F-instance_method" title="#autoload? (instance method)">- (String<sup>?</sup>) <strong>autoload?</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <em>filename</em> to be loaded if <em>name</em> is registered as
<code>autoload</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#BigDecimal-instance_method" title="#BigDecimal (instance method)">- (Object) <strong>BigDecimal</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>BigDecimal provides arbitrary-precision floating point decimal arithmetic.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#binding-instance_method" title="#binding (instance method)">- (Binding) <strong>binding</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a <code>Binding</code> object, describing the variable and method
bindings at the point of call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#block_given%3F-instance_method" title="#block_given? (instance method)">- (Boolean) <strong>block_given?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if yield would execute a block in the current context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller-instance_method" title="#caller (instance method)">- (Array<sup>?</sup>) <strong>caller</strong>(start = 1) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current execution stack—an array containing strings in the form
“file:line” or “file:line: in `method”‘.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#catch-instance_method" title="#catch (instance method)">- (Object) <strong>catch</strong>([arg]) {|tag| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p><code>catch</code> executes its block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Complex-instance_method" title="#Complex (instance method)">- (Numeric) <strong>Complex</strong>(x[, y]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns x+i*y;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eval-instance_method" title="#eval (instance method)">- (Object) <strong>eval</strong>(string[, binding [, filename [,lineno]]]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Evaluates the Ruby expression(s) in string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec-instance_method" title="#exec (instance method)">- (Object) <strong>exec</strong>([env,][,options]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces the current process by running the given external
<em>command</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit-instance_method" title="#exit (instance method)">- (Object) <strong>exit</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates the termination of the Ruby script by raising the SystemExit
exception.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit%21-instance_method" title="#exit! (instance method)">- (Object) <strong>exit!</strong>(status = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Exits the process immediately.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fail-instance_method" title="#fail (instance method)">- (Object) <strong>fail</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>With no arguments, raises the exception in $! or raises a RuntimeError if
$! is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Float-instance_method" title="#Float (instance method)">- (Float) <strong>Float</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns arg converted to a float.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fork-instance_method" title="#fork (instance method)">- (Object) <strong>fork</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a subprocess.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format-instance_method" title="#format (instance method)">- (Object) <strong>format</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the string resulting from applying format_string to any additional
arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gets-instance_method" title="#gets (instance method)">- (Object) <strong>gets</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns (and assigns to $_) the next line from the list of files in
<code>ARGV</code> (or $*), or from standard input if no files are present
on the command line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#global_variables-instance_method" title="#global_variables (instance method)">- (Array) <strong>global_variables</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of the names of global variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Integer-instance_method" title="#Integer (instance method)">- (Integer) <strong>Integer</strong>(arg, base = 0) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts arg to a Fixnum or Bignum.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#iterator%3F-instance_method" title="#iterator? (instance method)">- (Boolean) <strong>iterator?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if yield would execute a block in the current context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lambda-instance_method" title="#lambda (instance method)">- (Proc) <strong>lambda</strong> {|...| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to Proc.new, except the resulting Proc objects check the number
of parameters passed when called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load-instance_method" title="#load (instance method)">- (true) <strong>load</strong>(filename, wrap = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads and executes the Ruby program in the file <em>filename</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_variables-instance_method" title="#local_variables (instance method)">- (Array) <strong>local_variables</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the names of the current local variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loop-instance_method" title="#loop (instance method)">- (Object) <strong>loop</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Repeatedly executes the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-instance_method" title="#open (instance method)">- (Object) <strong>open</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an IO object connected to the given stream, file, or subprocess.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#p-instance_method" title="#p (instance method)">- (Object) <strong>p</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>For each object, directly writes <em>obj</em>.<code>inspect</code> followed
by a newline to the program’s standard output.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Pathname-instance_method" title="#Pathname (instance method)">- (Object) <strong>Pathname</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>create a pathname object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print-instance_method" title="#print (instance method)">- (nil) <strong>print</strong>(obj, ...) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prints each object in turn to $stdout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#printf-instance_method" title="#printf (instance method)">- (Object) <strong>printf</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to:    io.write(sprintf(string, obj, …) or   
$stdout.write(sprintf(string, obj, …).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#proc-instance_method" title="#proc (instance method)">- (Proc) <strong>proc</strong> {|...| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to Proc.new.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#putc-instance_method" title="#putc (instance method)">- (Integer) <strong>putc</strong>(int) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts-instance_method" title="#puts (instance method)">- (nil) <strong>puts</strong>(obj, ...) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise-instance_method" title="#raise (instance method)">- (Object) <strong>raise</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>With no arguments, raises the exception in $! or raises a RuntimeError if
$! is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rand-instance_method" title="#rand (instance method)">- (Numeric) <strong>rand</strong>(max = 0) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If max is <code>Range</code>, returns a pseudorandom number where
range.member(number) == true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Rational-instance_method" title="#Rational (instance method)">- (Numeric) <strong>Rational</strong>(x[, y]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns x/y;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-instance_method" title="#readline (instance method)">- (Object) <strong>readline</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to Kernel::gets, except <code>readline</code> raises
<code>EOFError</code> at end of file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readlines-instance_method" title="#readlines (instance method)">- (Object) <strong>readlines</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array containing the lines returned by calling Kernel.gets(sep)
until the end of file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require-instance_method" title="#require (instance method)">- (Boolean) <strong>require</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads the given <code>name</code>, returning <code>true</code> if
successful and <code>false</code> if the feature is already loaded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require_relative-instance_method" title="#require_relative (instance method)">- (Boolean) <strong>require_relative</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ruby tries to load the library named <em>string</em> relative to the
requiring file’s path.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-instance_method" title="#select (instance method)">- (Object) <strong>select</strong>(read_array) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>[, error_array              [, timeout]]]) -&gt; array  or  nil</p>

<pre class="code ruby"><code class="ruby">Calls select(2) system call. It monitors given arrays of IO objects, waits one or more of IO objects ready for reading, are ready for writing, and have pending exceptions respectably, and returns an array that contains arrays of those IO objects.  It will return nil if optional timeout value is given and no IO object is ready in timeout seconds.
=== Parameters read_array:: an array of IO objects that wait until ready for read write_array:: an array of IO objects that wait until ready for write error_array:: an array of IO objects that wait for exceptions timeout:: a numeric value in second
=== Example
    rp, wp = IO.pipe     mesg = &quot;ping &quot;     100.times {       rs, ws, = IO.select([rp], [wp])       if r = rs[0]         ret = r.read(5)         print ret         case ret         when /ping/           mesg = &quot;pong\n&quot;         when /pong/           mesg = &quot;ping &quot;         end       end       if w = ws[0]         w.write(mesg)       end     }
produces:
    ping pong     ping pong     ping pong     (snipped)     ping.</code></pre>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_trace_func-instance_method" title="#set_trace_func (instance method)">- (Object) <strong>set_trace_func</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Establishes <em>proc</em> as the handler for tracing, or disables tracing
if the parameter is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sleep-instance_method" title="#sleep (instance method)">- (Fixnum) <strong>sleep</strong>([duration]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Suspends the current thread for <em>duration</em> seconds (which may be any
number, including a <code>Float</code> with fractional seconds).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spawn-instance_method" title="#spawn (instance method)">- (Object) <strong>spawn</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>spawn executes specified command and return its pid.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sprintf-instance_method" title="#sprintf (instance method)">- (Object) <strong>sprintf</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the string resulting from applying format_string to any additional
arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#srand-instance_method" title="#srand (instance method)">- (Object) <strong>srand</strong>(number = 0) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Seeds the pseudorandom number generator to the value of number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#String-instance_method" title="#String (instance method)">- (String) <strong>String</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts arg to a String by calling its to_s method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#syscall-instance_method" title="#syscall (instance method)">- (Integer) <strong>syscall</strong>(num[, args...]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calls the operating system function identified by <em>num</em> and returns
the result of the function or raises SystemCallError if it failed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#system-instance_method" title="#system (instance method)">- (true, ...) <strong>system</strong>([env,][,options]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Executes <em>command…</em> in a subshell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test-instance_method" title="#test (instance method)">- (Object) <strong>test</strong>(int_cmd, file1[, file2]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Uses the integer aCmd to perform various tests on file1 (first table below)
or on file1 and file2 (second table).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#throw-instance_method" title="#throw (instance method)">- (Object) <strong>throw</strong>(tag[, obj]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Transfers control to the end of the active <code>catch</code> block waiting
for <em>tag</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trace_var-instance_method" title="#trace_var (instance method)">- (Object) <strong>trace_var</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Controls tracing of assignments to global variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trap-instance_method" title="#trap (instance method)">- (Object) <strong>trap</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies the handling of signals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#untrace_var-instance_method" title="#untrace_var (instance method)">- (Array<sup>?</sup>) <strong>untrace_var</strong>(symbol[, cmd]) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes tracing for the specified command on the given global variable and
returns <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#warn-instance_method" title="#warn (instance method)">- (nil) <strong>warn</strong>(msg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Display the given message (followed by a newline) on STDERR unless warnings
are disabled (for example with the -W0 flag).</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="__callee__-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>__method__</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>__callee__</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name of the current method as a Symbol. If called outside of a
method, it returns <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 1111</span>

static VALUE
rb_f_method_name(void)
{
    ID fname = rb_frame_caller(); /* need *caller* ID */

    if (fname) {
	return ID2SYM(fname);
    }
    else {
	return Qnil;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__method__-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>__method__</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>__callee__</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name of the current method as a Symbol. If called outside of a
method, it returns <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 1111</span>

static VALUE
rb_f_method_name(void)
{
    ID fname = rb_frame_caller(); /* need *caller* ID */

    if (fname) {
	return ID2SYM(fname);
    }
    else {
	return Qnil;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="`-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>`</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the standard output of running <em>cmd</em> in a subshell. The
built-in syntax <code>%x{...}</code> uses this method. Sets <code>$?</code>
to the process status.</p>

<pre class="ruby"><span class="ruby-value">%xdate`</span>                   <span class="ruby-comment">#=&gt; &quot;Wed Apr  9 08:56:30 CDT 2003\n&quot;</span>
<span class="ruby-value">%xls testdir`</span>.<span class="ruby-identifier">split</span>[<span class="ruby-value">1</span>]    <span class="ruby-comment">#=&gt; &quot;main.rb&quot;</span>
<span class="ruby-value">%xecho oops &amp;&amp; exit 99`</span>   <span class="ruby-comment">#=&gt; &quot;oops\n&quot;</span>
<span class="ruby-identifier">$?</span>.<span class="ruby-identifier">exitstatus</span>            <span class="ruby-comment">#=&gt; 99</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7621
7622
7623
7624
7625
7626
7627
7628
7629
7630
7631
7632
7633
7634
7635
7636
7637</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7621</span>

static VALUE
rb_f_backquote(VALUE obj, VALUE str)
{
    volatile VALUE port;
    VALUE result;
    rb_io_t *fptr;

    SafeStringValue(str);
    port = pipe_open_s(str, &quot;r&quot;, FMODE_READABLE|DEFAULT_TEXTMODE, NULL);
    if (NIL_P(port)) return rb_str_new(0,0);

    GetOpenFile(port, fptr);
    result = read_all(fptr, remain_size(fptr), Qnil);
    rb_io_close(port);

    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="abort-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>abort</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>Kernel::abort</strong>([msg]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>Process::abort</strong>([msg]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Terminate execution immediately, effectively by calling
<code>Kernel.exit(false)</code>. If <em>msg</em> is given, it is written to
STDERR prior to terminating.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2969
2970
2971
2972
2973
2974
2975
2976
2977
2978
2979
2980
2981
2982
2983
2984
2985
2986
2987
2988
2989</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2969</span>

VALUE
rb_f_abort(int argc, VALUE *argv)
{
    rb_secure(4);
    if (argc == 0) {
	if (!NIL_P(GET_THREAD()-&gt;errinfo)) {
	    ruby_error_print();
	}
	rb_exit(EXIT_FAILURE);
    }
    else {
	VALUE args[2];

	rb_scan_args(argc, argv, &quot;1&quot;, &amp;args[1]);
	StringValue(argv[0]);
	rb_io_puts(argc, argv, rb_stderr);
	args[0] = INT2NUM(EXIT_FAILURE);
	rb_exc_raise(rb_class_new_instance(2, args, rb_eSystemExit));
    }
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Array-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>Array</strong>(arg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>arg</em> as an <code>Array</code>. First tries to call
<em>arg</em><code>.to_ary</code>, then <em>arg</em><code>.to_a</code>.</p>

<pre class="ruby"><span class="ruby-constant">Array</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">5</span>)   <span class="ruby-comment">#=&gt; [1, 2, 3, 4, 5]</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2492
2493
2494
2495
2496</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 2492</span>

static VALUE
rb_f_array(VALUE obj, VALUE arg)
{
    return rb_Array(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_exit-instance_method">
  
    - (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>at_exit</strong> { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>block</em> to a <code>Proc</code> object (and therefore binds
it at the point of call) and registers it for execution when the program
exits. If multiple handlers are registered, they are executed in reverse
order of registration.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">do_at_exit</span>(<span class="ruby-identifier">str1</span>)
  <span class="ruby-identifier">at_exit</span> { <span class="ruby-identifier">print</span> <span class="ruby-identifier">str1</span> }
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">at_exit</span> { <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;cruel world&quot;</span> }
<span class="ruby-identifier">do_at_exit</span>(<span class="ruby-string">&quot;goodbye &quot;</span>)
<span class="ruby-identifier">exit</span>
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_goodbye'>goodbye</span> <span class='id identifier rubyid_cruel'>cruel</span> <span class='id identifier rubyid_world'>world</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval_jump.c', line 37</span>

static VALUE
rb_f_at_exit(void)
{
    VALUE proc;

    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;called without a block&quot;);
    }
    proc = rb_block_proc();
    rb_set_end_proc(rb_call_end_proc, proc);
    return proc;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="autoload-instance_method">
  
    - (<tt>nil</tt>) <strong>autoload</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers <em>filename</em> to be loaded (using
<code>Kernel::require</code>) the first time that <em>module</em> (which
may be a <code>String</code> or a symbol) is accessed.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_autoload'>autoload</span><span class='lparen'>(</span><span class='symbol'>:MyModule</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr/local/lib/modules/my_module.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


732
733
734
735
736
737
738
739
740</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 732</span>

static VALUE
rb_f_autoload(VALUE obj, VALUE sym, VALUE file)
{
    VALUE klass = rb_class_real(rb_vm_cbase());
    if (NIL_P(klass)) {
	rb_raise(rb_eTypeError, &quot;Can not set autoload on singleton class&quot;);
    }
    return rb_mod_autoload(klass, sym, file);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="autoload?-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>autoload?</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>filename</em> to be loaded if <em>name</em> is registered as
<code>autoload</code>.</p>

<pre class="ruby"><span class="ruby-identifier">autoload</span>(:<span class="ruby-constant">B</span>, <span class="ruby-string">&quot;b&quot;</span>)
<span class="ruby-identifier">autoload?</span>(:<span class="ruby-constant">B</span>)            <span class="ruby-comment">#=&gt; &quot;b&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


753
754
755
756
757
758
759
760
761
762</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 753</span>

static VALUE
rb_f_autoload_p(VALUE obj, VALUE sym)
{
    /* use rb_vm_cbase() as same as rb_f_autoload. */
    VALUE klass = rb_vm_cbase();
    if (NIL_P(klass)) {
	return Qnil;
    }
    return rb_mod_autoload_p(klass, sym);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="BigDecimal-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>BigDecimal</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>BigDecimal provides arbitrary-precision floating point decimal arithmetic.</p>

<p>Copyright (C) 2002 by Shigeo Kobayashi &lt;shigeo@tinyforest.gr.jp&gt;. You
may distribute under the terms of either the GNU General Public License or
the Artistic License, as specified in the README file of the BigDecimal
distribution.</p>

<p>Documented by mathew &lt;meta@pobox.com&gt;.</p>

<h1 id="label-Introduction">Introduction</h1>

<p>Ruby provides built-in support for arbitrary precision integer arithmetic.
For example:</p>

<p>42**13   -&gt;   1265437718438866624512</p>

<p>BigDecimal provides similar support for very large or very accurate
floating point numbers.</p>

<p>Decimal arithmetic is also useful for general calculation, because it
provides the correct answers people expect–whereas normal binary floating
point arithmetic often introduces subtle errors because of the conversion
between base 10 and base 2. For example, try:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10000</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='float'>0.0001</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_sum'>sum</span></code></pre>

<p>and contrast with the output from:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'bigdecimal'</span>

<span class="ruby-identifier">sum</span> = <span class="ruby-constant">BigDecimal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;0&quot;</span>)
<span class="ruby-keyword">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">in</span> (<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">10000</span>)
  <span class="ruby-identifier">sum</span> = <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-constant">BigDecimal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;0.0001&quot;</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">sum</span>
</pre>

<p>Similarly:</p>

<p>(BigDecimal.new(“1.2”) - BigDecimal(“1.0”)) == BigDecimal(“0.2”) -&gt; true</p>

<p>(1.2 - 1.0) == 0.2 -&gt; false</p>

<h1 id="label-Special+features+of+accurate+decimal+arithmetic">Special features of accurate decimal arithmetic</h1>

<p>Because BigDecimal is more accurate than normal binary floating point
arithmetic, it requires some special values.</p>

<h2 id="label-Infinity">Infinity</h2>

<p>BigDecimal sometimes needs to return infinity, for example if you divide a
value by zero.</p>

<p>BigDecimal.new(“1.0”) / BigDecimal.new(“0.0”)  -&gt; infinity</p>

<p>BigDecimal.new(“-1.0”) / BigDecimal.new(“0.0”)  -&gt; -infinity</p>

<p>You can represent infinite numbers to BigDecimal using the strings
‘Infinity’, ‘+Infinity’ and ‘-Infinity’ (case-sensitive)</p>

<h2 id="label-Not+a+Number">Not a Number</h2>

<p>When a computation results in an undefined value, the special value NaN
(for ‘not a number’) is returned.</p>

<p>Example:</p>

<p>BigDecimal.new(“0.0”) / BigDecimal.new(“0.0”) -&gt; NaN</p>

<p>You can also create undefined values.  NaN is never considered to be the
same as any other value, even NaN itself:</p>

<p>n = BigDecimal.new(‘NaN’)</p>

<p>n == 0.0 -&gt; nil</p>

<p>n == n -&gt; nil</p>

<h2 id="label-Positive+and+negative+zero">Positive and negative zero</h2>

<p>If a computation results in a value which is too small to be represented as
a BigDecimal within the currently specified limits of precision, zero must
be returned.</p>

<p>If the value which is too small to be represented is negative, a BigDecimal
value of negative zero is returned. If the value is positive, a value of
positive zero is returned.</p>

<p>BigDecimal.new(“1.0”) / BigDecimal.new(“-Infinity”) -&gt; -0.0</p>

<p>BigDecimal.new(“1.0”) / BigDecimal.new(“Infinity”) -&gt; 0.0</p>

<p>(See BigDecimal.mode for how to specify limits of precision.)</p>

<p>Note that -0.0 and 0.0 are considered to be the same for the purposes of
comparison.</p>

<p>Note also that in mathematics, there is no particular concept of negative
or positive zero; true mathematical zero has no sign.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2373
2374
2375
2376
2377</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/bigdecimal/bigdecimal.c', line 2373</span>

static VALUE
BigDecimal_global_new(int argc, VALUE *argv, VALUE self)
{
    return BigDecimal_new(argc, argv, rb_cBigDecimal);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="binding-instance_method">
  
    - (<tt><span class='object_link'><a href="Binding.html" title="Binding (class)">Binding</a></span></tt>) <strong>binding</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a <code>Binding</code> object, describing the variable and method
bindings at the point of call. This object can be used when calling
<code>eval</code> to execute the evaluated command in this environment. See
also the description of class <code>Binding</code>.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">get_binding</span>(<span class="ruby-identifier">param</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">binding</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">b</span> = <span class="ruby-identifier">get_binding</span>(<span class="ruby-string">&quot;hello&quot;</span>)
<span class="ruby-identifier">eval</span>(<span class="ruby-string">&quot;param&quot;</span>, <span class="ruby-identifier">b</span>)   <span class="ruby-comment">#=&gt; &quot;hello&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Binding.html" title="Binding (class)">Binding</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 345</span>

static VALUE
rb_f_binding(VALUE self)
{
    return rb_binding_new();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="block_given?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>block_given?</strong> </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>iterator?</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context. The <code>iterator?</code> form is mildly deprecated.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">try</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;no block&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">try</span>                  <span class="ruby-comment">#=&gt; &quot;no block&quot;</span>
<span class="ruby-identifier">try</span> { <span class="ruby-string">&quot;hello&quot;</span> }      <span class="ruby-comment">#=&gt; &quot;hello&quot;</span>
<span class="ruby-identifier">try</span> <span class="ruby-keyword">do</span> <span class="ruby-string">&quot;hello&quot;</span> <span class="ruby-keyword">end</span>   <span class="ruby-comment">#=&gt; &quot;hello&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>block_given?</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>iterator?</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1764</span>

VALUE
rb_f_block_given_p(void)
{
    rb_thread_t *th = GET_THREAD();
    rb_control_frame_t *cfp = th-&gt;cfp;
    cfp = vm_get_ruby_level_caller_cfp(th, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != 0 &amp;&amp;
	(cfp-&gt;lfp[0] &amp; 0x02) == 0 &amp;&amp;
	GC_GUARDED_PTR_REF(cfp-&gt;lfp[0])) {
	return Qtrue;
    }
    else {
	return Qfalse;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt><sup>?</sup>) <strong>caller</strong>(start = 1) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current execution stack—an array containing strings in the form
“<em>file:line</em>” or “<em>file:line: in `method’</em>”. The optional
<em>start</em> parameter determines the number of initial stack entries to
omit from the result.</p>

<p>Returns <code>nil</code> if <em>start</em> is greater than the size of
current execution stack.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">a</span>(<span class="ruby-identifier">skip</span>)
  <span class="ruby-identifier">caller</span>(<span class="ruby-identifier">skip</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">b</span>(<span class="ruby-identifier">skip</span>)
  <span class="ruby-identifier">a</span>(<span class="ruby-identifier">skip</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">c</span>(<span class="ruby-identifier">skip</span>)
  <span class="ruby-identifier">b</span>(<span class="ruby-identifier">skip</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">0</span>)   <span class="ruby-comment">#=&gt; [&quot;prog:2:in `a'&quot;, &quot;prog:5:in `b'&quot;, &quot;prog:8:in `c'&quot;, &quot;prog:10:in `&lt;main&gt;'&quot;]</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">1</span>)   <span class="ruby-comment">#=&gt; [&quot;prog:5:in `b'&quot;, &quot;prog:8:in `c'&quot;, &quot;prog:11:in `&lt;main&gt;'&quot;]</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">2</span>)   <span class="ruby-comment">#=&gt; [&quot;prog:8:in `c'&quot;, &quot;prog:12:in `&lt;main&gt;'&quot;]</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">3</span>)   <span class="ruby-comment">#=&gt; [&quot;prog:13:in `&lt;main&gt;'&quot;]</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">4</span>)   <span class="ruby-comment">#=&gt; []</span>
<span class="ruby-identifier">c</span>(<span class="ruby-value">5</span>)   <span class="ruby-comment">#=&gt; nil</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1616</span>

static VALUE
rb_f_caller(int argc, VALUE *argv)
{
    VALUE level;
    int lev;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;level);

    if (NIL_P(level))
	lev = 1;
    else
	lev = NUM2INT(level);
    if (lev &lt; 0)
	rb_raise(rb_eArgError, &quot;negative level (%d)&quot;, lev);

    return vm_backtrace(GET_THREAD(), lev);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="catch-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>catch</strong>([arg]) {|tag| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><code>catch</code> executes its block. If a <code>throw</code> is executed,
Ruby searches up its stack for a <code>catch</code> block with a tag
corresponding to the <code>throw</code>'s <em>tag</em>. If found, that
block is terminated, and <code>catch</code> returns the value given to
<code>throw</code>. If <code>throw</code> is not called, the block
terminates normally, and the value of <code>catch</code> is the value of
the last expression evaluated. <code>catch</code> expressions may be
nested, and the <code>throw</code> call need not be in lexical scope.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">routine</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">n</span>
  <span class="ruby-identifier">throw</span> :<span class="ruby-identifier">done</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">routine</span>(<span class="ruby-identifier">n</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">catch</span>(:<span class="ruby-identifier">done</span>) { <span class="ruby-identifier">routine</span>(<span class="ruby-value">3</span>) }
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='int'>3</span>
<span class='int'>2</span>
<span class='int'>1</span>
<span class='int'>0</span></code></pre>

<p>when <em>arg</em> is given, <code>catch</code> yields it as is, or when no
<em>arg</em> is given, <code>catch</code> assigns a new unique object to
<code>throw</code>.  this is useful for nested <code>catch</code>. 
<em>arg</em> can be an arbitrary object, not only Symbol.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>tag</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1536</span>

static VALUE
rb_f_catch(int argc, VALUE *argv)
{
    VALUE tag;

    if (argc == 0) {
	tag = rb_obj_alloc(rb_cObject);
    }
    else {
	rb_scan_args(argc, argv, &quot;01&quot;, &amp;tag);
    }
    return rb_catch_obj(tag, catch_i, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Complex-instance_method">
  
    - (<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>) <strong>Complex</strong>(x[, y]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns x+i*y;</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484
485
486</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'complex.c', line 482</span>

static VALUE
nucomp_f_complex(int argc, VALUE *argv, VALUE klass)
{
    return rb_funcall2(rb_cComplex, id_convert, argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eval-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>eval</strong>(string[, binding [, filename [,lineno]]]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Evaluates the Ruby expression(s) in <em>string</em>. If <em>binding</em> is
given, which must be a <code>Binding</code> object, the evaluation is
performed in its context. If the optional <em>filename</em> and
<em>lineno</em> parameters are present, they will be used when reporting
syntax errors.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">get_binding</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">binding</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">str</span> = <span class="ruby-string">&quot;hello&quot;</span>
<span class="ruby-identifier">eval</span> <span class="ruby-string">&quot;str + ' Fred'&quot;</span>                      <span class="ruby-comment">#=&gt; &quot;hello Fred&quot;</span>
<span class="ruby-identifier">eval</span> <span class="ruby-string">&quot;str + ' Fred'&quot;</span>, <span class="ruby-identifier">get_binding</span>(<span class="ruby-string">&quot;bye&quot;</span>)  <span class="ruby-comment">#=&gt; &quot;bye Fred&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1129</span>

VALUE
rb_f_eval(int argc, VALUE *argv, VALUE self)
{
    VALUE src, scope, vfile, vline;
    const char *file = &quot;(eval)&quot;;
    int line = 1;

    rb_scan_args(argc, argv, &quot;13&quot;, &amp;src, &amp;scope, &amp;vfile, &amp;vline);
    if (rb_safe_level() &gt;= 4) {
	StringValue(src);
	if (!NIL_P(scope) &amp;&amp; !OBJ_TAINTED(scope)) {
	    rb_raise(rb_eSecurityError,
		     &quot;Insecure: can't modify trusted binding&quot;);
	}
    }
    else {
	SafeStringValue(src);
    }
    if (argc &gt;= 3) {
	StringValue(vfile);
    }
    if (argc &gt;= 4) {
	line = NUM2INT(vline);
    }

    if (!NIL_P(vfile))
	file = RSTRING_PTR(vfile);
    return eval_string(self, src, scope, file, line);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exec-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>exec</strong>([env,][,options]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces the current process by running the given external
<em>command</em>. <em>command…</em> is one of following forms.</p>

<pre class="code"><code class="">commandline                 : command line string which is passed to the standard shell
cmdname, arg1, ...          : command name and one or more arguments (no shell)
[cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)</code></pre>

<p>If single string is given as the command, it is taken as a command line
that is subject to shell expansion before being executed.</p>

<p>The standard shell means always <code>&quot;/bin/sh&quot;</code> on
Unix-like systems, <code>ENV["RUBYSHELL"]</code> or
<code>ENV["COMSPEC"]</code> on Windows NT series, and similar.</p>

<p>If two or more <code>string</code> given, the first is taken as a command
name and the rest are passed as parameters to command with no shell
expansion.</p>

<p>If a two-element array at the beginning of the command, the first element
is the command to be executed, and the second argument is used as the
<code>argv[0]</code> value, which may show up in process listings.</p>

<p>In order to execute the command, one of the <code>exec(2)</code> system
calls is used, so the running command may inherit some of the environment
of the original program (including open file descriptors). This behavior is
modified by env and options. See <code>spawn</code> for details.</p>

<p>Raises SystemCallError if the command couldn’t execute (typically
<code>Errno::ENOENT</code> when it was not found).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo *</span><span class='tstring_end'>&quot;</span></span>       <span class='comment'># echoes list of files in current directory
</span><span class='comment'># never get here
</span>
<span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># echoes an asterisk
</span><span class='comment'># never get here</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1897
1898
1899
1900
1901
1902
1903
1904
1905
1906
1907
1908
1909
1910
1911
1912
1913
1914</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1897</span>

VALUE
rb_f_exec(int argc, VALUE *argv)
{
    struct rb_exec_arg earg;
#define CHILD_ERRMSG_BUFLEN 80
    char errmsg[CHILD_ERRMSG_BUFLEN] = { '\0' };

    rb_exec_arg_init(argc, argv, TRUE, &amp;earg);
    if (NIL_P(rb_ary_entry(earg.options, EXEC_OPTION_CLOSE_OTHERS)))
        rb_exec_arg_addopt(&amp;earg, ID2SYM(rb_intern(&quot;close_others&quot;)), Qfalse);
    rb_exec_arg_fixup(&amp;earg);

    rb_exec_err(&amp;earg, errmsg, sizeof(errmsg));
    if (errmsg[0])
        rb_sys_fail(errmsg);
    rb_sys_fail(earg.prog);
    return Qnil;		/* dummy */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>exit</strong>(status = true) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>Kernel::exit</strong>(status = true) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>Process::exit</strong>(status = true) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates the termination of the Ruby script by raising the
<code>SystemExit</code> exception. This exception may be caught. The
optional parameter is used to return a status code to the invoking
environment. <code>true</code> and <code>FALSE</code> of <em>status</em>
means success and failure respectively.  The interpretation of other
integer values are system dependent.</p>

<pre class="code"><code class=""><span class='kw'>begin</span>
  <span class='id identifier rubyid_exit'>exit</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>never get here</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span> <span class='const'>SystemExit</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rescued a SystemExit exception</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after begin block</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">rescued a SystemExit exception
after begin block</code></pre>

<p>Just prior to termination, Ruby executes any <code>at_exit</code> functions
(see Kernel::at_exit) and runs any object finalizers (see
ObjectSpace::define_finalizer).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>at_exit function</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='const'>ObjectSpace</span><span class='period'>.</span><span class='id identifier rubyid_define_finalizer'>define_finalizer</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in finalizer</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_exit'>exit</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">at_exit function
in finalizer</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2926
2927
2928
2929
2930
2931
2932
2933
2934
2935
2936
2937
2938
2939
2940
2941
2942
2943
2944
2945
2946
2947
2948
2949
2950
2951
2952
2953
2954
2955</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2926</span>

VALUE
rb_f_exit(int argc, VALUE *argv)
{
    VALUE status;
    int istatus;

    rb_secure(4);
    if (argc &gt; 0 &amp;&amp; rb_scan_args(argc, argv, &quot;01&quot;, &amp;status) == 1) {
	switch (status) {
	  case Qtrue:
	    istatus = EXIT_SUCCESS;
	    break;
	  case Qfalse:
	    istatus = EXIT_FAILURE;
	    break;
	  default:
	    istatus = NUM2INT(status);
#if EXIT_SUCCESS != 0
	    if (istatus == 0)
		istatus = EXIT_SUCCESS;
#endif
	    break;
	}
    }
    else {
	istatus = EXIT_SUCCESS;
    }
    rb_exit(istatus);
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>exit!</strong>(status = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Exits the process immediately. No exit handlers are run. <em>status</em> is
returned to the underlying system as the exit status.</p>

<pre class="code"><code class=""><span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_exit!'>exit!</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2842
2843
2844
2845
2846
2847
2848
2849
2850
2851
2852
2853
2854
2855
2856
2857
2858
2859
2860
2861
2862
2863
2864
2865
2866
2867
2868</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2842</span>

static VALUE
rb_f_exit_bang(int argc, VALUE *argv, VALUE obj)
{
    VALUE status;
    int istatus;

    rb_secure(4);
    if (argc &gt; 0 &amp;&amp; rb_scan_args(argc, argv, &quot;01&quot;, &amp;status) == 1) {
	switch (status) {
	  case Qtrue:
	    istatus = EXIT_SUCCESS;
	    break;
	  case Qfalse:
	    istatus = EXIT_FAILURE;
	    break;
	  default:
	    istatus = NUM2INT(status);
	    break;
	}
    }
    else {
	istatus = EXIT_FAILURE;
    }
    _exit(istatus);

    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fail-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong>(string) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong>(exception[, string [, array]]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong>(string) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong>(exception[, string [, array]]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>. With a
single <code>String</code> argument, raises a <code>RuntimeError</code>
with the string as a message. Otherwise, the first parameter should be the
name of an <code>Exception</code> class (or an object that returns an
<code>Exception</code> object when sent an <code>exception</code> message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the <code>rescue</code> clause of
<code>begin...end</code> blocks.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to create socket</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No parameters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


509
510
511
512
513
514
515
516
517
518
519
520
521
522</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 509</span>

static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    if (argc == 0) {
	err = get_errinfo();
	if (!NIL_P(err)) {
	    argc = 1;
	    argv = &amp;err;
	}
    }
    rb_raise_jump(rb_make_exception(argc, argv));
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Float-instance_method">
  
    - (<tt><span class='object_link'><a href="Float.html" title="Float (class)">Float</a></span></tt>) <strong>Float</strong>(arg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>arg</em> converted to a float. Numeric types are converted
directly, the rest are converted using <em>arg</em>.to_f. As of Ruby 1.8,
converting <code>nil</code> generates a <code>TypeError</code>.</p>

<pre class="ruby"><span class="ruby-constant">Float</span>(<span class="ruby-value">1</span>)           <span class="ruby-comment">#=&gt; 1.0</span>
<span class="ruby-constant">Float</span>(<span class="ruby-string">&quot;123.456&quot;</span>)   <span class="ruby-comment">#=&gt; 123.456</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Float.html" title="Float (class)">Float</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2388
2389
2390
2391
2392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 2388</span>

static VALUE
rb_f_float(VALUE obj, VALUE arg)
{
    return rb_Float(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fork-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>fork</strong> { ... }</span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>fork</strong> { ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a subprocess. If a block is specified, that block is run in the
subprocess, and the subprocess terminates with a status of zero. Otherwise,
the <code>fork</code> call returns twice, once in the parent, returning the
process ID of the child, and once in the child, returning <em>nil</em>. The
child process can exit using <code>Kernel.exit!</code> to avoid running any
<code>at_exit</code> functions. The parent process should use
<code>Process.wait</code> to collect the termination statuses of its
children or use <code>Process.detach</code> to register disinterest in
their status; otherwise, the operating system may accumulate zombie
processes.</p>

<p>The thread calling fork is the only thread in the created child process.
fork doesn’t copy other threads.</p>

<p>If fork is not usable, Process.respond_to?(:fork) returns false.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>fork</strong> { ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>fork</strong> { ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2801
2802
2803
2804
2805
2806
2807
2808
2809
2810
2811
2812
2813
2814
2815
2816
2817
2818
2819
2820
2821
2822
2823
2824
2825
2826</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2801</span>

static VALUE
rb_f_fork(VALUE obj)
{
    rb_pid_t pid;

    rb_secure(2);

    switch (pid = rb_fork(0, 0, 0, Qnil)) {
      case 0:
	rb_thread_atfork();
	if (rb_block_given_p()) {
	    int status;

	    rb_protect(rb_yield, Qundef, &amp;status);
	    ruby_stop(status);
	}
	return Qnil;

      case -1:
	rb_sys_fail(&quot;fork(2)&quot;);
	return Qnil;

      default:
	return PIDT2NUM(pid);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>format</strong>(format_string[, arguments...]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>sprintf</strong>(format_string[, arguments...]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.  Within the format string, any characters other than
format sequences are copied to the result.</p>

<p>The syntax of a format sequence is follows.</p>

<pre class="code"><code class="">%[flags][width][.precision]type</code></pre>

<p>A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character.  The field type controls how the corresponding
<code>sprintf</code> argument is to be interpreted, while the flags modify
that interpretation.</p>

<p>The field type characters are:</p>

<pre class="code"><code class="">Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..1'.
  B   | Equivalent to `b', but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d'.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..7'.
  u   | Identical to `d'.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..f' (representing an infinite string of
      | leading 'ff's).
  X   | Equivalent to `x', but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e', but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g', but use an uppercase `E' in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, &quot;0x&quot;, fraction part
      | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
  A   | Equivalent to `a', but use uppercase `X' and `P'.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.</code></pre>

<p>The flags modifies the behavior of the formats. The flag characters are:</p>

<pre class="code"><code class="">Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o', increase the precision
         |               | until the first digit will be `0' if
         |               | it is not formatted as complements.
         |               | For the conversions `x', `X', `b' and `B'
         |               | on non-zero, prefix the result with ``0x'',
         |               | ``0X'', ``0b'' and ``0B'', respectively.
         |               | For `a', `A', `e', `E', `f', `g', and 'G',
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g' and 'G', do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.</code></pre>

<p>Examples of flags:</p>

<pre class="ruby"><span class="ruby-comment"># `+' and space flag specifies the sign of non-negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;% d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 123&quot;</span>

<span class="ruby-comment"># `#' flag for `o' increases number of digits to show `0'.</span>
<span class="ruby-comment"># `+' and space flag changes format of negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%o&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%o&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..7605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;..7605&quot;</span>

<span class="ruby-comment"># `#' flag for `x' add a prefix `0x' for non-zero numbers.</span>
<span class="ruby-comment"># `+' and space flag disables complements for negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%x&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0x7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%x&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..f85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;0x..f85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">0</span>)    <span class="ruby-comment">#=&gt; &quot;0&quot;</span>

<span class="ruby-comment"># `#' for `X' uses the prefix `0X'.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%X&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;7B&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#X&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;0X7B&quot;</span>

<span class="ruby-comment"># `#' flag for `b' add a prefix `0b' for non-zero numbers.</span>
<span class="ruby-comment"># `+' and space flag disables complements for negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%b&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0b1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+b&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%b&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..10000101&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;0b..10000101&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">0</span>)    <span class="ruby-comment">#=&gt; &quot;0&quot;</span>

<span class="ruby-comment"># `#' for `B' uses the prefix `0B'.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%B&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#B&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;0B1111011&quot;</span>

<span class="ruby-comment"># `#' for `e' forces to show the decimal point.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%.0e&quot;</span>, <span class="ruby-value">1</span>)  <span class="ruby-comment">#=&gt; &quot;1e+00&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#.0e&quot;</span>, <span class="ruby-value">1</span>) <span class="ruby-comment">#=&gt; &quot;1.e+00&quot;</span>

<span class="ruby-comment"># `#' for `f' forces to show the decimal point.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%.0f&quot;</span>, <span class="ruby-value">1234</span>)  <span class="ruby-comment">#=&gt; &quot;1234&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#.0f&quot;</span>, <span class="ruby-value">1234</span>) <span class="ruby-comment">#=&gt; &quot;1234.&quot;</span>

<span class="ruby-comment"># `#' for `g' forces to show the decimal point.</span>
<span class="ruby-comment"># It also disables stripping lowest zeros.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%g&quot;</span>, <span class="ruby-value">123.4</span>)   <span class="ruby-comment">#=&gt; &quot;123.4&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#g&quot;</span>, <span class="ruby-value">123.4</span>)  <span class="ruby-comment">#=&gt; &quot;123.400&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%g&quot;</span>, <span class="ruby-value">123456</span>)  <span class="ruby-comment">#=&gt; &quot;123456&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#g&quot;</span>, <span class="ruby-value">123456</span>) <span class="ruby-comment">#=&gt; &quot;123456.&quot;</span>
</pre>

<p>The field width is an optional integer, followed optionally by a period and
a precision.  The width specifies the minimum number of characters that
will be written to the result for this field.</p>

<p>Examples of width:</p>

<pre class="ruby"><span class="ruby-comment"># padding is done by spaces,       width=20</span>
<span class="ruby-comment"># 0 or radix-1.             &lt;------------------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20d&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;                 123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+20d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;                +123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%020d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;00000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+020d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+0000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;% 020d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 0000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%-20d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;123                 &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%-+20d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+123                &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%- 20d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 123                &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%020x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;..ffffffffffffffff85&quot;</span>
</pre>

<p>For numeric fields, the precision controls the number of decimal places
displayed.  For string fields, the precision determines the maximum number
of characters to be copied from the string.  (Thus, the format sequence
<code>%10.10s</code> will always contribute exactly ten characters to the
result.)</p>

<p>Examples of precisions:</p>

<pre class="ruby"><span class="ruby-comment"># precision for `d', 'o', 'x' and 'b' is</span>
<span class="ruby-comment"># minimum number of digits               &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            0000007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            01111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8d&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;           -00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..777605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..ffff85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8b&quot;</span>, <span class="ruby-value">-11</span>)  <span class="ruby-comment">#=&gt; &quot;            ..110101&quot;</span>

<span class="ruby-comment"># &quot;0x&quot; and &quot;0b&quot; for `#x' and `#b' is not counted for</span>
<span class="ruby-comment"># precision but &quot;0&quot; for `#o' is counted.  &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;          0x0000007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;          0b01111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8d&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;           -00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..777605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;          0x..ffff85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8b&quot;</span>, <span class="ruby-value">-11</span>)  <span class="ruby-comment">#=&gt; &quot;          0b..110101&quot;</span>

<span class="ruby-comment"># precision for `e' is number of</span>
<span class="ruby-comment"># digits after the decimal point           &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8e&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;      1.23456789e+03&quot;</span>

<span class="ruby-comment"># precision for `f' is number of</span>
<span class="ruby-comment"># digits after the decimal point               &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8f&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;       1234.56789000&quot;</span>

<span class="ruby-comment"># precision for `g' is number of</span>
<span class="ruby-comment"># significant digits                          &lt;-------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8g&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;           1234.5679&quot;</span>

<span class="ruby-comment">#                                         &lt;-------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8g&quot;</span>, <span class="ruby-value">123456789</span>)  <span class="ruby-comment">#=&gt; &quot;       1.2345679e+08&quot;</span>

<span class="ruby-comment"># precision for `s' is</span>
<span class="ruby-comment"># maximum number of characters                    &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8s&quot;</span>, <span class="ruby-string">&quot;string test&quot;</span>) <span class="ruby-comment">#=&gt; &quot;            string t&quot;</span>
</pre>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d %04x&quot;</span>, <span class="ruby-value">123</span>, <span class="ruby-value">123</span>)               <span class="ruby-comment">#=&gt; &quot;123 007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%08b '%4s'&quot;</span>, <span class="ruby-value">123</span>, <span class="ruby-value">123</span>)            <span class="ruby-comment">#=&gt; &quot;01111011 ' 123'&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%1$*2$s %2$d %1$s&quot;</span>, <span class="ruby-string">&quot;hello&quot;</span>, <span class="ruby-value">8</span>)   <span class="ruby-comment">#=&gt; &quot;   hello 8 hello&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%1$*2$s %2$d&quot;</span>, <span class="ruby-string">&quot;hello&quot;</span>, <span class="ruby-value">-8</span>)       <span class="ruby-comment">#=&gt; &quot;hello    -8&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+g:% g:%-g&quot;</span>, <span class="ruby-value">1.23</span>, <span class="ruby-value">1.23</span>, <span class="ruby-value">1.23</span>)   <span class="ruby-comment">#=&gt; &quot;+1.23: 1.23:1.23&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%u&quot;</span>, <span class="ruby-value">-123</span>)                        <span class="ruby-comment">#=&gt; &quot;-123&quot;</span>
</pre>

<p>For more complex formatting, Ruby supports a reference by name.
%&lt;name&gt;s style uses format style, but %name style doesn’t.</p>

<p>Exapmles:</p>

<pre class="ruby"><span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%&lt;foo&gt;d : %&lt;bar&gt;f&quot;</span>, { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, :<span class="ruby-identifier">bar</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> })
  <span class="ruby-comment">#=&gt; 1 : 2.000000</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%{foo}f&quot;</span>, { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
  <span class="ruby-comment"># =&gt; &quot;1f&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>format</strong>(format_string[, arguments...]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>sprintf</strong>(format_string[, arguments...]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


432
433
434
435
436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sprintf.c', line 432</span>

VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gets-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(sep = $/) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(limit) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(sep, limit) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns (and assigns to <code>$_</code>) the next line from the list of
files in <code>ARGV</code> (or <code>$*</code>), or from standard input if
no files are present on the command line. Returns <code>nil</code> at end
of file. The optional argument specifies the record separator. The
separator is included with the contents of each record. A separator of
<code>nil</code> reads the entire contents, and a zero-length separator
reads the input one paragraph at a time, where paragraphs are divided by
two consecutive newlines.  If the first argument is an integer, or optional
second argument is given, the returning string would not be longer than the
given value in bytes.  If multiple filenames are present in
<code>ARGV</code>, <tt>gets(nil)</tt> will read the contents one file at a time.</p>

<pre class="code"><code class=""><span class='const'>ARGV</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testfile</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_print'>print</span> <span class='kw'>while</span> <span class='id identifier rubyid_gets'>gets</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">This is line one
This is line two
This is line three
And so on...</code></pre>

<p>The style of programming using <code>$_</code> as an implicit parameter is
gradually losing favor in the Ruby community.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(sep = $/) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>gets</strong>(sep, limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7432
7433
7434
7435
7436
7437
7438
7439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7432</span>

static VALUE
rb_f_gets(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_gets(argc, argv, argf);
    }
    return rb_funcall2(argf, rb_intern(&quot;gets&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="global_variables-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>global_variables</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of the names of global variables.</p>

<pre class="ruby"><span class="ruby-identifier">global_variables</span>.<span class="ruby-identifier">grep</span> <span class="ruby-regexp">/std/</span>   <span class="ruby-comment">#=&gt; [:$stdin, :$stdout, :$stderr]</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


761
762
763
764
765
766
767
768
769
770
771
772
773
774
775</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 761</span>

VALUE
rb_f_global_variables(void)
{
    VALUE ary = rb_ary_new();
    char buf[2];
    int i;

    st_foreach_safe(rb_global_tbl, gvar_i, ary);
    buf[0] = '$';
    for (i = 1; i &lt;= 9; ++i) {
	buf[1] = (char)(i + '0');
	rb_ary_push(ary, ID2SYM(rb_intern2(buf, 2)));
    }
    return ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Integer-instance_method">
  
    - (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>Integer</strong>(arg, base = 0) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>arg</em> to a <code>Fixnum</code> or <code>Bignum</code>.
Numeric types are converted directly (with floating point numbers being
truncated).    <em>base</em> (0, or between 2 and 36) is a base for integer
string representation.  If <em>arg</em> is a <code>String</code>, when
<em>base</em> is omitted or equals to zero, radix indicators
(<code>0</code>, <code>0b</code>, and <code>0x</code>) are honored. In any
case, strings should be strictly conformed to numeric representation. This
behavior is different from that of <code>String#to_i</code>.  Non string
values will be converted using <code>to_int</code>, and <code>to_i</code>.</p>

<pre class="ruby"><span class="ruby-constant">Integer</span>(<span class="ruby-value">123.999</span>)    <span class="ruby-comment">#=&gt; 123</span>
<span class="ruby-constant">Integer</span>(<span class="ruby-string">&quot;0x1a&quot;</span>)     <span class="ruby-comment">#=&gt; 26</span>
<span class="ruby-constant">Integer</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>)   <span class="ruby-comment">#=&gt; 1204973019</span>
<span class="ruby-constant">Integer</span>(<span class="ruby-string">&quot;0930&quot;</span>, <span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; 930</span>
<span class="ruby-constant">Integer</span>(<span class="ruby-string">&quot;111&quot;</span>, <span class="ruby-value">2</span>)   <span class="ruby-comment">#=&gt; 7</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2220
2221
2222
2223
2224
2225
2226
2227
2228
2229
2230
2231
2232
2233
2234
2235
2236
2237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 2220</span>

static VALUE
rb_f_integer(int argc, VALUE *argv, VALUE obj)
{
    VALUE arg = Qnil;
    int base = 0;

    switch (argc) {
      case 2:
	base = NUM2INT(argv[1]);
      case 1:
	arg = argv[0];
	break;
      default:
	/* should cause ArgumentError */
	rb_scan_args(argc, argv, &quot;11&quot;, NULL, NULL);
    }
    return rb_convert_to_integer(arg, base);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="iterator?-instance_method">
  
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>block_given?</strong> </span>
    
      <span class="overload">- (<tt>Boolean</tt>) <strong>iterator?</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context. The <code>iterator?</code> form is mildly deprecated.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">try</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;no block&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">try</span>                  <span class="ruby-comment">#=&gt; &quot;no block&quot;</span>
<span class="ruby-identifier">try</span> { <span class="ruby-string">&quot;hello&quot;</span> }      <span class="ruby-comment">#=&gt; &quot;hello&quot;</span>
<span class="ruby-identifier">try</span> <span class="ruby-keyword">do</span> <span class="ruby-string">&quot;hello&quot;</span> <span class="ruby-keyword">end</span>   <span class="ruby-comment">#=&gt; &quot;hello&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>block_given?</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Boolean</tt>) <strong>iterator?</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1764</span>

VALUE
rb_f_block_given_p(void)
{
    rb_thread_t *th = GET_THREAD();
    rb_control_frame_t *cfp = th-&gt;cfp;
    cfp = vm_get_ruby_level_caller_cfp(th, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != 0 &amp;&amp;
	(cfp-&gt;lfp[0] &amp; 0x02) == 0 &amp;&amp;
	GC_GUARDED_PTR_REF(cfp-&gt;lfp[0])) {
	return Qtrue;
    }
    else {
	return Qfalse;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lambda-instance_method">
  
    - (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>lambda</strong> {|...| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Proc.new</code>, except the resulting Proc objects
check the number of parameters passed when called.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>...</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479
480</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 476</span>

VALUE
rb_block_lambda(void)
{
    return proc_new(rb_cProc, TRUE);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load-instance_method">
  
    - (<tt>true</tt>) <strong>load</strong>(filename, wrap = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads and executes the Ruby program in the file <em>filename</em>. If the
filename does not resolve to an absolute path, the file is searched for in
the library directories listed in <code>$:</code>. If the optional
<em>wrap</em> parameter is <code>true</code>, the loaded script will be
executed under an anonymous module, protecting the calling program’s global
namespace. In no circumstance will any local variables in the loaded file
be propagated to the loading environment.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374
375
376
377
378
379
380
381
382
383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 372</span>

static VALUE
rb_f_load(int argc, VALUE *argv)
{
    VALUE fname, wrap, path;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;fname, &amp;wrap);
    path = rb_find_file(FilePathValue(fname));
    if (!path) {
	if (!rb_file_load_ok(RSTRING_PTR(fname)))
	    load_failed(fname);
	path = fname;
    }
    rb_load_internal(path, RTEST(wrap));
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_variables-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>local_variables</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the names of the current local variables.</p>

<pre class="ruby"><span class="ruby-identifier">fred</span> = <span class="ruby-value">1</span>
<span class="ruby-keyword">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">in</span> <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>
   <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">local_variables</span>   <span class="ruby-comment">#=&gt; [:fred, :i]</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1700
1701
1702
1703
1704
1705
1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1700</span>

static VALUE
rb_f_local_variables(void)
{
    VALUE ary = rb_ary_new();
    rb_thread_t *th = GET_THREAD();
    rb_control_frame_t *cfp =
	vm_get_ruby_level_caller_cfp(th, RUBY_VM_PREVIOUS_CONTROL_FRAME(th-&gt;cfp));
    int i;

    while (cfp) {
	if (cfp-&gt;iseq) {
	    for (i = 0; i &lt; cfp-&gt;iseq-&gt;local_table_size; i++) {
		ID lid = cfp-&gt;iseq-&gt;local_table[i];
		if (lid) {
		    const char *vname = rb_id2name(lid);
		    /* should skip temporary variable */
		    if (vname) {
			rb_ary_push(ary, ID2SYM(lid));
		    }
		}
	    }
	}
	if (cfp-&gt;lfp != cfp-&gt;dfp) {
	    /* block */
	    VALUE *dfp = GC_GUARDED_PTR_REF(cfp-&gt;dfp[0]);

	    if (vm_collect_local_variables_in_heap(th, dfp, ary)) {
		break;
	    }
	    else {
		while (cfp-&gt;dfp != dfp) {
		    cfp = RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp);
		}
	    }
	}
	else {
	    break;
	}
    }
    return ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loop-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>loop</strong> { ... }</span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>loop</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Repeatedly executes the block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Input: </span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_gets'>gets</span>
  <span class='kw'>break</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_line'>line</span> <span class='kw'>or</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^qQ</span><span class='regexp_end'>/</span></span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>

<p>StopIteration raised in the block breaks the loop.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>loop</strong> { ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


859
860
861
862
863
864
865</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 859</span>

static VALUE
rb_f_loop(VALUE self)
{
    RETURN_ENUMERATOR(self, 0, 0);
    rb_rescue2(loop_i, (VALUE)0, 0, 0, rb_eStopIteration, (VALUE)0);
    return Qnil;		/* dummy */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt><sup>?</sup>) <strong>open</strong>(path[, mode_enc [, perm]][, opt]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(path[, mode_enc [, perm]][, opt]) {|io| ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an <code>IO</code> object connected to the given stream, file, or
subprocess.</p>

<p>If <em>path</em> does not start with a pipe character (“<code>|</code>”),
treat it as the name of a file to open using the specified mode (defaulting
to “<code>r</code>”).</p>

<p>The mode_enc is either a string or an integer.  If it is an integer, it
must be bitwise-or of open(2) flags, such as File::RDWR or File::EXCL. If
it is a string, it is either “mode”, “mode:ext_enc”, or
“mode:ext_enc:int_enc”. The mode is one of the following:</p>

<pre class="code"><code class="">r: read (default)
w: write
a: append</code></pre>

<p>The mode can be followed by “b” (means binary-mode), or “+” (means both
reading and writing allowed) or both. If ext_enc (external encoding) is
specified, read string will be tagged by the encoding in reading, and
output string will be converted to the specified encoding in writing. If
ext_enc starts with ‘BOM|’, check whether the input has a BOM. If there is
a BOM, strip it and set external encoding as what the BOM tells. If there
is no BOM, use ext_enc without ‘BOM|’. If two encoding names, ext_enc and
int_enc (external encoding and internal encoding), are specified, the read
string is converted from ext_enc to int_enc then tagged with the int_enc in
read mode, and in write mode, the output string will be converted from
int_enc to ext_enc before writing.</p>

<p>If a file is being created, its initial permissions may be set using the
integer third parameter.</p>

<p>If a block is specified, it will be invoked with the <code>File</code>
object as a parameter, and the file will be automatically closed when the
block terminates. The call returns the value of the block.</p>

<p>If <em>path</em> starts with a pipe character, a subprocess is created,
connected to the caller by a pair of pipes. The returned <code>IO</code>
object may be used to write to the standard input and read from the
standard output of this subprocess. If the command following the
“<code>|</code>” is a single minus sign, Ruby forks, and this subprocess is
connected to the parent. In the subprocess, the <code>open</code> call
returns <code>nil</code>. If the command is not “<code>-</code>”, the
subprocess runs the command. If a block is associated with an
<code>open(&quot;|-&quot;)</code> call, that block will be run twice—once
in the parent and once in the child. The block parameter will be an
<code>IO</code> object in the parent and <code>nil</code> in the child. The
parent’s <code>IO</code> object will be connected to the child’s
<code>$stdin</code> and <code>$stdout</code>. The subprocess will be
terminated at the end of the block.</p>

<pre class="ruby"><span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;testfile&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">print</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">gets</span>
<span class="ruby-keyword">end</span>
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='const'>This</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_line'>line</span> <span class='id identifier rubyid_one'>one</span></code></pre>

<p>Open a subprocess and read its output:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|date</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
<span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">Wed Apr  9 08:56:31 CDT 2003</code></pre>

<p>Open a subprocess running the same Ruby program:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span> <span class='op'>==</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in Child</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exit'>exit</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">Got: in Child</code></pre>

<p>Open a subprocess using a block to receive the I/O object:</p>

<pre class="ruby"><span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;|-&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;in Child&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Got: #{f.gets}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">Got: in Child</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt><sup>?</sup>) <strong>open</strong>(path[, mode_enc [, perm]][, opt]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(path[, mode_enc [, perm]][, opt]) {|io| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>io</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6017
6018
6019
6020
6021
6022
6023
6024
6025
6026
6027
6028
6029
6030
6031
6032
6033
6034
6035
6036
6037
6038
6039
6040
6041
6042
6043
6044
6045
6046
6047
6048
6049
6050
6051
6052</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6017</span>

static VALUE
rb_f_open(int argc, VALUE *argv)
{
    ID to_open = 0;
    int redirect = FALSE;

    if (argc &gt;= 1) {
	CONST_ID(to_open, &quot;to_open&quot;);
	if (rb_respond_to(argv[0], to_open)) {
	    redirect = TRUE;
	}
	else {
	    VALUE tmp = argv[0];
	    FilePathValue(tmp);
	    if (NIL_P(tmp)) {
		redirect = TRUE;
	    }
	    else {
                VALUE cmd = check_pipe_command(tmp);
                if (!NIL_P(cmd)) {
		    argv[0] = cmd;
		    return rb_io_s_popen(argc, argv, rb_cIO);
		}
	    }
	}
    }
    if (redirect) {
	VALUE io = rb_funcall2(argv[0], to_open, argc-1, argv+1);

	if (rb_block_given_p()) {
	    return rb_ensure(rb_yield, io, io_close, io);
	}
	return io;
    }
    return rb_io_s_open(argc, argv, rb_cFile);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="p-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>p</strong>(obj) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>p</strong>(obj1, obj2, ...) </span>
    
      <span class="overload">- (<tt>nil</tt>) <strong>p</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>For each object, directly writes <em>obj</em>.<code>inspect</code> followed
by a newline to the program’s standard output.</p>

<pre class="code"><code class=""><span class='const'>S</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:state</span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>S</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>dave</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>TX</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='comment'>#&lt;S name=&quot;dave&quot;, state=&quot;TX&quot;&gt;</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>p</strong>(obj) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>p</strong>(obj1, obj2, ...) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>p</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6625
6626
6627
6628
6629
6630
6631
6632
6633
6634
6635
6636
6637
6638
6639
6640
6641
6642
6643
6644</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6625</span>

static VALUE
rb_f_p(int argc, VALUE *argv, VALUE self)
{
    int i;
    VALUE ret = Qnil;

    for (i=0; i&lt;argc; i++) {
	rb_p(argv[i]);
    }
    if (argc == 1) {
	ret = argv[0];
    }
    else if (argc &gt; 1) {
	ret = rb_ary_new4(argc, argv);
    }
    if (TYPE(rb_stdout) == T_FILE) {
	rb_io_flush(rb_stdout);
    }
    return ret;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Pathname-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>Pathname</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>create a pathname object.</p>

<p>This method is available since 1.8.5.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


970
971
972
973
974</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/pathname/pathname.c', line 970</span>

static VALUE
path_f_pathname(VALUE self, VALUE str)
{
    return rb_class_new_instance(1, &amp;str, rb_cPathname);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print-instance_method">
  
    - (<tt>nil</tt>) <strong>print</strong>(obj, ...) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prints each object in turn to <code>$stdout</code>. If the output field
separator (<code>$,</code>) is not <code>nil</code>, its contents will
appear between each field. If the output record separator
(<code>$\&lt;/code&gt;) is not nil, it will be appended to the output. If
no arguments are given, prints &lt;code&gt;$_</code>. Objects that aren’t
strings will be converted by calling their <code>to_s</code> method.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='int'>99</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='gvar'>$,</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>
<span class='gvar'>$\</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='int'>99</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">cat12399
cat, 1, 2, 3, 99</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6426
6427
6428
6429
6430
6431</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6426</span>

static VALUE
rb_f_print(int argc, VALUE *argv)
{
    rb_io_print(argc, argv, rb_stdout);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="printf-instance_method">
  
    
      <span class="overload">- (<tt>nil</tt>) <strong>printf</strong>(io, string[, obj ... ]) </span>
    
      <span class="overload">- (<tt>nil</tt>) <strong>printf</strong>(string[, obj ... ]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to:</p>

<pre class="code"><code class="">io.write(sprintf(string, obj, ...)</code></pre>

<p>or</p>

<pre class="code"><code class="">$stdout.write(sprintf(string, obj, ...)</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>printf</strong>(io, string[, obj ... ]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>printf</strong>(string[, obj ... ]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6337
6338
6339
6340
6341
6342
6343
6344
6345
6346
6347
6348
6349
6350
6351
6352
6353
6354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6337</span>

static VALUE
rb_f_printf(int argc, VALUE *argv)
{
    VALUE out;

    if (argc == 0) return Qnil;
    if (TYPE(argv[0]) == T_STRING) {
	out = rb_stdout;
    }
    else {
	out = argv[0];
	argv++;
	argc--;
    }
    rb_io_write(out, rb_f_sprintf(argc, argv));

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="proc-instance_method">
  
    - (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>proc</strong> {|...| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Proc.new</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>...</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


462
463
464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 462</span>

VALUE
rb_block_proc(void)
{
    return proc_new(rb_cProc, FALSE);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="putc-instance_method">
  
    - (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>putc</strong>(int) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to:</p>

<pre class="code"><code class=""><span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_putc'>putc</span><span class='lparen'>(</span><span class='id identifier rubyid_int'>int</span><span class='rparen'>)</span></code></pre>

<p>Refer to the documentation for IO#putc for important information regarding
multi-byte characters.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6478
6479
6480
6481
6482
6483
6484
6485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6478</span>

static VALUE
rb_f_putc(VALUE recv, VALUE ch)
{
    if (recv == rb_stdout) {
	return rb_io_putc(recv, ch);
    }
    return rb_funcall2(rb_stdout, rb_intern(&quot;putc&quot;), 1, &amp;ch);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts-instance_method">
  
    - (<tt>nil</tt>) <strong>puts</strong>(obj, ...) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to</p>

<pre class="code"><code class="">$stdout.puts(obj, ...)</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6583
6584
6585
6586
6587
6588
6589
6590</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 6583</span>

static VALUE
rb_f_puts(int argc, VALUE *argv, VALUE recv)
{
    if (recv == rb_stdout) {
	return rb_io_puts(argc, argv, recv);
    }
    return rb_funcall2(rb_stdout, rb_intern(&quot;puts&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raise-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong>(string) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>raise</strong>(exception[, string [, array]]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong>(string) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fail</strong>(exception[, string [, array]]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>. With a
single <code>String</code> argument, raises a <code>RuntimeError</code>
with the string as a message. Otherwise, the first parameter should be the
name of an <code>Exception</code> class (or an object that returns an
<code>Exception</code> object when sent an <code>exception</code> message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the <code>rescue</code> clause of
<code>begin...end</code> blocks.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to create socket</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No parameters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


509
510
511
512
513
514
515
516
517
518
519
520
521
522</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 509</span>

static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    if (argc == 0) {
	err = get_errinfo();
	if (!NIL_P(err)) {
	    argc = 1;
	    argv = &amp;err;
	}
    }
    rb_raise_jump(rb_make_exception(argc, argv));
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rand-instance_method">
  
    - (<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>) <strong>rand</strong>(max = 0) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If <em>max</em> is <code>Range</code>, returns a pseudorandom number where
range.member(number) == true.</p>

<p>Or else converts <em>max</em> to an integer using max1 =
max<code>.to_i.abs</code>.</p>

<p>Then if <em>max</em> is <code>nil</code> the result is zero, returns a
pseudorandom floating point number greater than or equal to 0.0 and less
than 1.0.</p>

<p>Otherwise, returns a pseudorandom integer greater than or equal to zero and
less than max1.</p>

<p><code>Kernel::srand</code> may be used to ensure repeatable sequences of
random numbers between different runs of the program. Ruby currently uses a
modified Mersenne Twister with a period of 2**19937-1.</p>

<pre class="ruby"><span class="ruby-identifier">srand</span> <span class="ruby-value">1234</span>                 <span class="ruby-comment">#=&gt; 0</span>
[ <span class="ruby-identifier">rand</span>,  <span class="ruby-identifier">rand</span> ]            <span class="ruby-comment">#=&gt; [0.191519450163469, 0.49766366626136]</span>
[ <span class="ruby-identifier">rand</span>(<span class="ruby-value">10</span>), <span class="ruby-identifier">rand</span>(<span class="ruby-value">1000</span>) ]   <span class="ruby-comment">#=&gt; [6, 817]</span>
<span class="ruby-identifier">srand</span> <span class="ruby-value">1234</span>                 <span class="ruby-comment">#=&gt; 1234</span>
[ <span class="ruby-identifier">rand</span>,  <span class="ruby-identifier">rand</span> ]            <span class="ruby-comment">#=&gt; [0.191519450163469, 0.49766366626136]</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'random.c', line 1229</span>

static VALUE
rb_f_rand(int argc, VALUE *argv, VALUE obj)
{
    VALUE v, vmax, r;
    struct MT *mt = default_mt();

    if (argc == 0) goto zero_arg;
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vmax);
    if (NIL_P(vmax)) goto zero_arg;
    if ((v = rand_range(mt, vmax)) != Qfalse) {
	return v;
    }
    vmax = rb_to_int(vmax);
    if (vmax == INT2FIX(0) || NIL_P(r = rand_int(mt, vmax, 0))) {
      zero_arg:
	return DBL2NUM(genrand_real(mt));
    }
    return r;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Rational-instance_method">
  
    - (<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>) <strong>Rational</strong>(x[, y]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns x/y;</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


553
554
555
556
557</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rational.c', line 553</span>

static VALUE
nurat_f_rational(int argc, VALUE *argv, VALUE klass)
{
    return rb_funcall2(rb_cRational, id_convert, argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readline-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(sep = $/) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(limit) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(sep, limit) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Kernel::gets</code>, except <code>readline</code>
raises <code>EOFError</code> at end of file.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(sep = $/) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>readline</strong>(sep, limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7505
7506
7507
7508
7509
7510
7511
7512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7505</span>

static VALUE
rb_f_readline(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_readline(argc, argv, argf);
    }
    return rb_funcall2(argf, rb_intern(&quot;readline&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readlines-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(sep = $/) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(limit) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(sep, limit) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing the lines returned by calling
<code>Kernel.gets(<em>sep</em>)</code> until the end of file.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(sep = $/) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>readlines</strong>(sep, limit) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7558
7559
7560
7561
7562
7563
7564
7565</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7558</span>

static VALUE
rb_f_readlines(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_readlines(argc, argv, argf);
    }
    return rb_funcall2(argf, rb_intern(&quot;readlines&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="require-instance_method">
  
    - (<tt>Boolean</tt>) <strong>require</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads the given <code>name</code>, returning <code>true</code> if
successful and <code>false</code> if the feature is already loaded.</p>

<p>If the filename does not resolve to an absolute path, it will be searched
for in the directories listed in <code>$LOAD_PATH</code> (<code>$:</code>).</p>

<p>If the filename has the extension “.rb”, it is loaded as a source file; if
the extension is “.so”, “.o”, or “.dll”, or the default shared library
extension on the current platform, Ruby loads the shared library as a Ruby
extension.  Otherwise, Ruby tries adding “.rb”, “.so”, and so on to the
name until found.  If the file named cannot be found, a LoadError will be
raised.</p>

<p>For Ruby extensions the filename given may use any shared library
extension.  For example, on Linux the socket extension is “socket.so” and
<code>require 'socket.dll'</code> will load the socket extension.</p>

<p>The absolute path of the loaded file is added to
<code>$LOADED_FEATURES</code> (<code>$&quot;</code>).  A file will not be
loaded again if its path already appears in <code>$&quot;</code>.  For
example, <code>require 'a'; require './a'</code> will not load
<code>a.rb</code> again.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;my-library.rb&quot;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&quot;db-driver&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 463</span>

VALUE
rb_f_require(VALUE obj, VALUE fname)
{
    return rb_require_safe(fname, rb_safe_level());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="require_relative-instance_method">
  
    - (<tt>Boolean</tt>) <strong>require_relative</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Ruby tries to load the library named <em>string</em> relative to the
requiring file’s path.  If the file’s path cannot be determined a LoadError
is raised. If a file is loaded <code>true</code> is returned and false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


477
478
479
480
481
482
483
484
485
486</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 477</span>

VALUE
rb_f_require_relative(VALUE obj, VALUE fname)
{
    VALUE base = rb_current_realfilepath();
    if (NIL_P(base)) {
	rb_raise(rb_eLoadError, &quot;cannot infer basepath&quot;);
    }
    base = rb_file_dirname(base);
    return rb_require_safe(rb_file_absolute_path(fname, base), rb_safe_level());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>select</strong>(read_array) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>[, error_array</p>

<pre class="code"><code class="">[, timeout]]]) -&gt; array  or  nil</code></pre>

<p>Calls select(2) system call. It monitors given arrays of <code>IO</code>
objects, waits one or more of <code>IO</code> objects ready for reading,
are ready for writing, and have pending exceptions respectably, and returns
an array that contains arrays of those IO objects.  It will return
<code>nil</code> if optional <em>timeout</em> value is given and no
<code>IO</code> object is ready in <em>timeout</em> seconds.</p>

<h3 id="label-Parameters">Parameters</h3>
<dl class="rdoc-list note-list"><dt>read_array
<dd>
<p>an array of <code>IO</code> objects that wait until ready for read</p>
</dd><dt>write_array
<dd>
<p>an array of <code>IO</code> objects that wait until ready for write</p>
</dd><dt>error_array
<dd>
<p>an array of <code>IO</code> objects that wait for exceptions</p>
</dd><dt>timeout
<dd>
<p>a numeric value in second</p>
</dd></dl>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_rp'>rp</span><span class='comma'>,</span> <span class='id identifier rubyid_wp'>wp</span> <span class='op'>=</span> <span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_pipe'>pipe</span>
<span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ping </span><span class='tstring_end'>&quot;</span></span>
<span class='int'>100</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='lbrace'>{</span>
  <span class='id identifier rubyid_rs'>rs</span><span class='comma'>,</span> <span class='id identifier rubyid_ws'>ws</span><span class='comma'>,</span> <span class='op'>=</span> <span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_rp'>rp</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_wp'>wp</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_rs'>rs</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_ret'>ret</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_ret'>ret</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ping</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pong\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>pong</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ping </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='id identifier rubyid_ws'>ws</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='rbrace'>}</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='lparen'>(</span><span class='id identifier rubyid_snipped'>snipped</span><span class='rparen'>)</span>
<span class='id identifier rubyid_ping'>ping</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8013
8014
8015
8016
8017
8018
8019
8020
8021
8022
8023
8024
8025
8026
8027
8028
8029
8030
8031
8032
8033
8034</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8013</span>

static VALUE
rb_f_select(int argc, VALUE *argv, VALUE obj)
{
    VALUE timeout;
    struct select_args args;
    struct timeval timerec;
    int i;

    rb_scan_args(argc, argv, &quot;13&quot;, &amp;args.read, &amp;args.write, &amp;args.except, &amp;timeout);
    if (NIL_P(timeout)) {
	args.timeout = 0;
    }
    else {
	timerec = rb_time_interval(timeout);
	args.timeout = &amp;timerec;
    }

    for (i = 0; i &lt; numberof(args.fdsets); ++i)
	rb_fd_init(&amp;args.fdsets[i]);

    return rb_ensure(select_call, (VALUE)&amp;args, select_end, (VALUE)&amp;args);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_trace_func-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>set_trace_func</strong>(proc) </span>
    
      <span class="overload">- (<tt>nil</tt>) <strong>set_trace_func</strong>(nil) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Establishes <em>proc</em> as the handler for tracing, or disables tracing
if the parameter is <code>nil</code>. <em>proc</em> takes up to six
parameters: an event name, a filename, a line number, an object id, a
binding, and the name of a class. <em>proc</em> is invoked whenever an
event occurs. Events are: <code>c-call</code> (call a C-language routine),
<code>c-return</code> (return from a C-language routine), <code>call</code>
(call a Ruby method), <code>class</code> (start a class or module
definition), <code>end</code> (finish a class or module definition),
<code>line</code> (execute code on a new line), <code>raise</code> (raise
an exception), and <code>return</code> (return from a Ruby method). Tracing
is disabled within the context of <em>proc</em>.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Test</span>
</pre>

<p>def test</p>

<pre class="code"><code class=""><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span></code></pre>

<p>end</p>

<pre class="ruby">   <span class="ruby-keyword">end</span>

   <span class="ruby-identifier">set_trace_func</span> <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">event</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">binding</span>, <span class="ruby-identifier">classname</span><span class="ruby-operator">|</span>
 <span class="ruby-identifier">printf</span> <span class="ruby-string">&quot;%8s %s:%-2d %10s %8s\n&quot;</span>, <span class="ruby-identifier">event</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">classname</span>
   }
   <span class="ruby-identifier">t</span> = <span class="ruby-constant">Test</span>.<span class="ruby-identifier">new</span>
   <span class="ruby-identifier">t</span>.<span class="ruby-identifier">test</span>

<span class="ruby-identifier">line</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">11</span>               <span class="ruby-keyword">false</span>
   <span class="ruby-identifier">c</span><span class="ruby-operator">-</span><span class="ruby-identifier">call</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">11</span>        <span class="ruby-identifier">new</span>    <span class="ruby-constant">Class</span>
   <span class="ruby-identifier">c</span><span class="ruby-operator">-</span><span class="ruby-identifier">call</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">11</span> <span class="ruby-identifier">initialize</span>   <span class="ruby-constant">Object</span>
 <span class="ruby-identifier">c</span><span class="ruby-operator">-</span><span class="ruby-keyword">return</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">11</span> <span class="ruby-identifier">initialize</span>   <span class="ruby-constant">Object</span>
 <span class="ruby-identifier">c</span><span class="ruby-operator">-</span><span class="ruby-keyword">return</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">11</span>        <span class="ruby-identifier">new</span>    <span class="ruby-constant">Class</span>
<span class="ruby-identifier">line</span> <span class="ruby-identifier">prog</span>.<span class="ruby-identifier">rb</span>:<span class="ruby-value">12</span>               <span class="ruby-keyword">false</span>
</pre>

<p>call prog.rb:2        test     Test</p>

<pre class="code"><code class="">line prog.rb:3        test     Test
line prog.rb:4        test     Test
   return prog.rb:4        test     Test</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>set_trace_func</strong>(proc) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>set_trace_func</strong>(nil) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4421
4422
4423
4424
4425
4426
4427
4428
4429
4430
4431
4432
4433
4434
4435
4436
4437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread.c', line 4421</span>

static VALUE
set_trace_func(VALUE obj, VALUE trace)
{
    rb_remove_event_hook(call_trace_func);

    if (NIL_P(trace)) {
	GET_THREAD()-&gt;tracing = EVENT_RUNNING_NOTHING;
	return Qnil;
    }

    if (!rb_obj_is_proc(trace)) {
	rb_raise(rb_eTypeError, &quot;trace_func needs to be Proc&quot;);
    }

    rb_add_event_hook(call_trace_func, RUBY_EVENT_ALL, trace);
    return trace;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sleep-instance_method">
  
    - (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>sleep</strong>([duration]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Suspends the current thread for <em>duration</em> seconds (which may be any
number, including a <code>Float</code> with fractional seconds). Returns
the actual number of seconds slept (rounded), which may be less than that
asked for if another thread calls <code>Thread#run</code>. Called without
an argument, sleep() will sleep forever.</p>

<pre class="ruby"><span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>    <span class="ruby-comment">#=&gt; 2008-03-08 19:56:19 +0900</span>
<span class="ruby-identifier">sleep</span> <span class="ruby-value">1.2</span>   <span class="ruby-comment">#=&gt; 1</span>
<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>    <span class="ruby-comment">#=&gt; 2008-03-08 19:56:20 +0900</span>
<span class="ruby-identifier">sleep</span> <span class="ruby-value">1.9</span>   <span class="ruby-comment">#=&gt; 2</span>
<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>    <span class="ruby-comment">#=&gt; 2008-03-08 19:56:22 +0900</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3462
3463
3464
3465
3466
3467
3468
3469
3470
3471
3472
3473
3474
3475
3476
3477
3478
3479
3480
3481</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3462</span>

static VALUE
rb_f_sleep(int argc, VALUE *argv)
{
    time_t beg, end;

    beg = time(0);
    if (argc == 0) {
	rb_thread_sleep_forever();
    }
    else if (argc == 1) {
	rb_thread_wait_for(rb_time_interval(argv[0]));
    }
    else {
	rb_raise(rb_eArgError, &quot;wrong number of arguments (%d for 0..1)&quot;, argc);
    }

    end = time(0) - beg;

    return INT2FIX(end);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spawn-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>spawn</strong>([env,][,options]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>spawn</strong>([env,][,options]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>spawn executes specified command and return its pid.</p>

<p>This method doesn’t wait for end of the command. The parent process should
use <code>Process.wait</code> to collect the termination status of its
child or use <code>Process.detach</code> to register disinterest in their
status; otherwise, the operating system may accumulate zombie processes.</p>

<p>spawn has bunch of options to specify process attributes:</p>

<pre class="ruby"><span class="ruby-identifier">env</span><span class="ruby-operator">:</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">set</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">environment</span> <span class="ruby-identifier">variable</span>
  <span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">unset</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">environment</span> <span class="ruby-identifier">variable</span>
<span class="ruby-identifier">command</span><span class="ruby-operator">...</span><span class="ruby-operator">:</span>
  <span class="ruby-identifier">commandline</span>                 <span class="ruby-operator">:</span> <span class="ruby-identifier">command</span> <span class="ruby-identifier">line</span> <span class="ruby-identifier">string</span> <span class="ruby-identifier">which</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">passed</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">standard</span> <span class="ruby-identifier">shell</span>
  <span class="ruby-identifier">cmdname</span>, <span class="ruby-identifier">arg1</span>, <span class="ruby-operator">...</span>          <span class="ruby-operator">:</span> <span class="ruby-identifier">command</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">one</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">arguments</span> (<span class="ruby-identifier">no</span> <span class="ruby-identifier">shell</span>)
  [<span class="ruby-identifier">cmdname</span>, <span class="ruby-identifier">argv0</span>], <span class="ruby-identifier">arg1</span>, <span class="ruby-operator">...</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">command</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">argv</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">and</span> <span class="ruby-identifier">zero</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">arguments</span> (<span class="ruby-identifier">no</span> <span class="ruby-identifier">shell</span>)
<span class="ruby-identifier">options</span><span class="ruby-operator">:</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">clearing</span> <span class="ruby-identifier">environment</span> <span class="ruby-identifier">variables</span><span class="ruby-operator">:</span>
    :<span class="ruby-identifier">unsetenv_others</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>   <span class="ruby-operator">:</span> <span class="ruby-identifier">clear</span> <span class="ruby-identifier">environment</span> <span class="ruby-identifier">variables</span> <span class="ruby-identifier">except</span> <span class="ruby-identifier">specified</span> <span class="ruby-identifier">by</span> <span class="ruby-identifier">env</span>
    :<span class="ruby-identifier">unsetenv_others</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>  <span class="ruby-operator">:</span> <span class="ruby-identifier">don</span><span class="ruby-string">'t clear (default)
  process group:
    :pgroup =&gt; true or 0 : make a new process group
    :pgroup =&gt; pgid      : join to specified process group
    :pgroup =&gt; nil       : don'</span><span class="ruby-identifier">t</span> <span class="ruby-identifier">change</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">process</span> <span class="ruby-identifier">group</span> (<span class="ruby-identifier">default</span>)
  <span class="ruby-identifier">create</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">process</span> <span class="ruby-identifier">group</span><span class="ruby-operator">:</span> <span class="ruby-constant">Windows</span> <span class="ruby-identifier">only</span>
    :<span class="ruby-identifier">new_pgroup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>  <span class="ruby-operator">:</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">process</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">root</span> <span class="ruby-identifier">process</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">process</span> <span class="ruby-identifier">group</span>
    :<span class="ruby-identifier">new_pgroup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">don</span><span class="ruby-string">'t create a new process group (default)
  resource limit: resourcename is core, cpu, data, etc.  See Process.setrlimit.
    :rlimit_resourcename =&gt; limit
    :rlimit_resourcename =&gt; [cur_limit, max_limit]
  current directory:
    :chdir =&gt; str
  umask:
    :umask =&gt; int
  redirection:
    key:
      FD              : single file descriptor in child process
      [FD, FD, ...]   : multiple file descriptor in child process
    value:
      FD                        : redirect to the file descriptor in parent process
      string                    : redirect to file with open(string, &quot;r&quot; or &quot;w&quot;)
      [string]                  : redirect to file with open(string, File::RDONLY)
      [string, open_mode]       : redirect to file with open(string, open_mode, 0644)
      [string, open_mode, perm] : redirect to file with open(string, open_mode, perm)
      [:child, FD]              : redirect to the redirected file descriptor
      :close                    : close the file descriptor in child process
    FD is one of follows
      :in     : the file descriptor 0 which is the standard input
      :out    : the file descriptor 1 which is the standard output
      :err    : the file descriptor 2 which is the standard error
      integer : the file descriptor of specified the integer
      io      : the file descriptor specified as io.fileno
  file descriptor inheritance: close non-redirected non-standard fds (3, 4, 5, ...) or not
    :close_others =&gt; false : inherit fds (default for system and exec)
    :close_others =&gt; true  : don'</span><span class="ruby-identifier">t</span> <span class="ruby-identifier">inherit</span> (<span class="ruby-identifier">default</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">spawn</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>)
</pre>

<p>If a hash is given as <code>env</code>, the environment is updated by
<code>env</code> before <code>exec(2)</code> in the child process. If a
pair in <code>env</code> has nil as the value, the variable is deleted.</p>

<pre class="ruby"><span class="ruby-comment"># set FOO as BAR and unset BAZ.</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>({<span class="ruby-string">&quot;FOO&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;BAR&quot;</span>, <span class="ruby-string">&quot;BAZ&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword">nil</span>}, <span class="ruby-identifier">command</span>)
</pre>

<p>If a hash is given as <code>options</code>, it specifies process group,
create new process group, resource limit, current directory, umask and
redirects for the child process. Also, it can be specified to clear
environment variables.</p>

<p>The <code>:unsetenv_others</code> key in <code>options</code> specifies to
clear environment variables, other than specified by <code>env</code>.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">unsetenv_others=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>) <span class="ruby-comment"># no environment variable</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>({<span class="ruby-string">&quot;FOO&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;BAR&quot;</span>}, <span class="ruby-identifier">command</span>, :<span class="ruby-identifier">unsetenv_others=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>) <span class="ruby-comment"># FOO only</span>
</pre>

<p>The <code>:pgroup</code> key in <code>options</code> specifies a process
group. The corresponding value should be true, zero or positive integer.
true and zero means the process should be a process leader of a new process
group. Other values specifies a process group to be belongs.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">pgroup=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>) <span class="ruby-comment"># process leader</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">pgroup=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">10</span>) <span class="ruby-comment"># belongs to the process group 10</span>
</pre>

<p>The <code>:new_pgroup</code> key in <code>options</code> specifies to pass
<code>CREATE_NEW_PROCESS_GROUP</code> flag to <code>CreateProcessW()</code>
that is Windows API. This option is only for Windows. true means the new
process is the root process of the new process group. The new process has
CTRL+C disabled. This flag is necessary for <code>Process.kill(:SIGINT,
pid)</code> on the subprocess. :new_pgroup is false by default.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">new_pgroup=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)  <span class="ruby-comment"># new process group</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">new_pgroup=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">false</span>) <span class="ruby-comment"># same process group</span>
</pre>

<p>The <code>:rlimit_</code><em>foo</em> key specifies a resource limit.
<em>foo</em> should be one of resource types such as <code>core</code>. The
corresponding value should be an integer or an array which have one or two
integers: same as cur_limit and max_limit arguments for Process.setrlimit.</p>

<pre class="ruby"><span class="ruby-identifier">cur</span>, <span class="ruby-identifier">max</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">getrlimit</span>(:<span class="ruby-constant">CORE</span>)
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">rlimit_core=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value">0</span>,<span class="ruby-identifier">max</span>]) <span class="ruby-comment"># disable core temporary.</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">rlimit_core=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">max</span>) <span class="ruby-comment"># enable core dump</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">rlimit_core=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>) <span class="ruby-comment"># never dump core.</span>
</pre>

<p>The <code>:chdir</code> key in <code>options</code> specifies the current
directory.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">chdir=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;/var/tmp&quot;</span>)
</pre>

<p>The <code>:umask</code> key in <code>options</code> specifies the umask.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">umask=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">077</span>)
</pre>

<p>The :in, :out, :err, a fixnum, an IO and an array key specifies a
redirection. The redirection maps a file descriptor in the child process.</p>

<p>For example, stderr can be merged into stdout as follows:</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">err=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">out</span>)
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, <span class="ruby-value">2</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, <span class="ruby-constant">STDERR</span>=<span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">out</span>)
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, <span class="ruby-constant">STDERR</span>=<span class="ruby-operator">&gt;</span><span class="ruby-constant">STDOUT</span>)
</pre>

<p>The hash keys specifies a file descriptor in the child process started by
<code>spawn</code>. :err, 2 and STDERR specifies the standard error stream
(stderr).</p>

<p>The hash values specifies a file descriptor in the parent process which
invokes <code>spawn</code>. :out, 1 and STDOUT specifies the standard
output stream (stdout).</p>

<p>In the above example, the standard output in the child process is not
specified. So it is inherited from the parent process.</p>

<p>The standard input stream (stdin) can be specified by :in, 0 and STDIN.</p>

<p>A filename can be specified as a hash value.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-keyword">in</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;/dev/null&quot;</span>) <span class="ruby-comment"># read mode</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;/dev/null&quot;</span>) <span class="ruby-comment"># write mode</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">err=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;log&quot;</span>) <span class="ruby-comment"># write mode</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, <span class="ruby-value">3</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;/dev/null&quot;</span>) <span class="ruby-comment"># read mode</span>
</pre>

<p>For stdout and stderr, it is opened in write mode. Otherwise read mode is
used.</p>

<p>For specifying flags and permission of file creation explicitly, an array
is used instead.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-keyword">in</span>=<span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;file&quot;</span>]) <span class="ruby-comment"># read mode is assumed</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-keyword">in</span>=<span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;file&quot;</span>, <span class="ruby-string">&quot;r&quot;</span>])
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;log&quot;</span>, <span class="ruby-string">&quot;w&quot;</span>]) <span class="ruby-comment"># 0644 assumed</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;log&quot;</span>, <span class="ruby-string">&quot;w&quot;</span>, <span class="ruby-value">0600</span>])
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;log&quot;</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">WRONLY</span><span class="ruby-operator">|</span><span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">EXCL</span><span class="ruby-operator">|</span><span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">CREAT</span>, <span class="ruby-value">0600</span>])
</pre>

<p>The array specifies a filename, flags and permission. The flags can be a
string or an integer. If the flags is omitted or nil, File::RDONLY is
assumed. The permission should be an integer. If the permission is omitted
or nil, 0644 is assumed.</p>

<p>If an array of IOs and integers are specified as a hash key, all the
elements are redirected.</p>

<pre class="ruby"><span class="ruby-comment"># stdout and stderr is redirected to log file.</span>
<span class="ruby-comment"># The file &quot;log&quot; is opened just once.</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, [:<span class="ruby-identifier">out</span>, :<span class="ruby-identifier">err</span>]=<span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;log&quot;</span>, <span class="ruby-string">&quot;w&quot;</span>])
</pre>

<p>Another way to merge multiple file descriptors is [:child, fd]. [:child,
fd] means the file descriptor in the child process. This is different from
fd. For example, :err=&gt;:out means redirecting child stderr to parent
stdout. But :err=&gt;[:child, :out] means redirecting child stderr to child
stdout. They differs if stdout is redirected in the child process as
follows.</p>

<pre class="ruby"><span class="ruby-comment"># stdout and stderr is redirected to log file.</span>
<span class="ruby-comment"># The file &quot;log&quot; is opened just once.</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-string">&quot;log&quot;</span>, <span class="ruby-string">&quot;w&quot;</span>], :<span class="ruby-identifier">err=</span><span class="ruby-operator">&gt;</span>[:<span class="ruby-identifier">child</span>, :<span class="ruby-identifier">out</span>])
</pre>

<p>[:child, :out] can be used to merge stderr into stdout in IO.popen. In this
case, IO.popen redirects stdout to a pipe in the child process and [:child,
:out] refers the redirected stdout.</p>

<pre class="ruby"><span class="ruby-identifier">io</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>([<span class="ruby-string">&quot;sh&quot;</span>, <span class="ruby-string">&quot;-c&quot;</span>, <span class="ruby-string">&quot;echo out; echo err &gt;&amp;2&quot;</span>, :<span class="ruby-identifier">err=</span><span class="ruby-operator">&gt;</span>[:<span class="ruby-identifier">child</span>, :<span class="ruby-identifier">out</span>]])
<span class="ruby-identifier">p</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span> <span class="ruby-comment">#=&gt; &quot;out\nerr\n&quot;</span>
</pre>

<p>spawn closes all non-standard unspecified descriptors by default. The
“standard” descriptors are 0, 1 and 2. This behavior is specified by
:close_others option. :close_others doesn’t affect the standard descriptors
which are closed only if :close is specified explicitly.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">close_others=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)  <span class="ruby-comment"># close 3,4,5,... (default)</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">close_others=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">false</span>) <span class="ruby-comment"># don't close 3,4,5,...</span>
</pre>

<p>:close_others is true by default for spawn and IO.popen.</p>

<p>So IO.pipe and spawn can be used as IO.popen.</p>

<pre class="ruby"><span class="ruby-comment"># similar to r = IO.popen(command)</span>
<span class="ruby-identifier">r</span>, <span class="ruby-identifier">w</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">pipe</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">w</span>)   <span class="ruby-comment"># r, w is closed in the child process.</span>
<span class="ruby-identifier">w</span>.<span class="ruby-identifier">close</span>
</pre>

<p>:close is specified as a hash value to close a fd individually.</p>

<pre class="ruby"><span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">foo</span>)
<span class="ruby-identifier">system</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">f</span>=<span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">close</span>)        <span class="ruby-comment"># don't inherit f.</span>
</pre>

<p>If a file descriptor need to be inherited, io=&gt;io can be used.</p>

<pre class="ruby"><span class="ruby-comment"># valgrind has --log-fd option for log destination.</span>
<span class="ruby-comment"># log_w=&gt;log_w indicates log_w.fileno inherits to child process.</span>
<span class="ruby-identifier">log_r</span>, <span class="ruby-identifier">log_w</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">pipe</span>
<span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-string">&quot;valgrind&quot;</span>, <span class="ruby-node">&quot;--log-fd=#{log_w.fileno}&quot;</span>, <span class="ruby-string">&quot;echo&quot;</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">log_w</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">log_w</span>)
<span class="ruby-identifier">log_w</span>.<span class="ruby-identifier">close</span>
<span class="ruby-identifier">p</span> <span class="ruby-identifier">log_r</span>.<span class="ruby-identifier">read</span>
</pre>

<p>It is also possible to exchange file descriptors.</p>

<pre class="ruby"><span class="ruby-identifier">pid</span> = <span class="ruby-identifier">spawn</span>(<span class="ruby-identifier">command</span>, :<span class="ruby-identifier">out=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">err</span>, :<span class="ruby-identifier">err=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">out</span>)
</pre>

<p>The hash keys specify file descriptors in the child process. The hash
values specifies file descriptors in the parent process. So the above
specifies exchanging stdout and stderr. Internally, <code>spawn</code> uses
an extra file descriptor to resolve such cyclic file descriptor mapping.</p>

<p>See <code>Kernel.exec</code> for the standard shell.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3423
3424
3425
3426
3427
3428
3429
3430
3431
3432
3433
3434
3435
3436
3437
3438
3439
3440
3441
3442
3443</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3423</span>

static VALUE
rb_f_spawn(int argc, VALUE *argv)
{
    rb_pid_t pid;
    char errmsg[CHILD_ERRMSG_BUFLEN] = { '\0' };
    struct rb_exec_arg earg;

    pid = rb_spawn_process(&amp;earg, rb_exec_arg_prepare(&amp;earg, argc, argv, TRUE), errmsg, sizeof(errmsg));
    if (pid == -1) {
	const char *prog = errmsg;
	if (!prog[0] &amp;&amp; !(prog = earg.prog) &amp;&amp; earg.argc) {
	    prog = RSTRING_PTR(earg.argv[0]);
	}
	rb_sys_fail(prog);
    }
#if defined(HAVE_FORK) || defined(HAVE_SPAWNV)
    return PIDT2NUM(pid);
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sprintf-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>format</strong>(format_string[, arguments...]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>sprintf</strong>(format_string[, arguments...]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.  Within the format string, any characters other than
format sequences are copied to the result.</p>

<p>The syntax of a format sequence is follows.</p>

<pre class="code"><code class="">%[flags][width][.precision]type</code></pre>

<p>A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character.  The field type controls how the corresponding
<code>sprintf</code> argument is to be interpreted, while the flags modify
that interpretation.</p>

<p>The field type characters are:</p>

<pre class="code"><code class="">Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..1'.
  B   | Equivalent to `b', but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d'.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..7'.
  u   | Identical to `d'.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..f' (representing an infinite string of
      | leading 'ff's).
  X   | Equivalent to `x', but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e', but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g', but use an uppercase `E' in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, &quot;0x&quot;, fraction part
      | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
  A   | Equivalent to `a', but use uppercase `X' and `P'.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.</code></pre>

<p>The flags modifies the behavior of the formats. The flag characters are:</p>

<pre class="code"><code class="">Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o', increase the precision
         |               | until the first digit will be `0' if
         |               | it is not formatted as complements.
         |               | For the conversions `x', `X', `b' and `B'
         |               | on non-zero, prefix the result with ``0x'',
         |               | ``0X'', ``0b'' and ``0B'', respectively.
         |               | For `a', `A', `e', `E', `f', `g', and 'G',
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g' and 'G', do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.</code></pre>

<p>Examples of flags:</p>

<pre class="ruby"><span class="ruby-comment"># `+' and space flag specifies the sign of non-negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;% d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 123&quot;</span>

<span class="ruby-comment"># `#' flag for `o' increases number of digits to show `0'.</span>
<span class="ruby-comment"># `+' and space flag changes format of negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%o&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%o&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..7605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;..7605&quot;</span>

<span class="ruby-comment"># `#' flag for `x' add a prefix `0x' for non-zero numbers.</span>
<span class="ruby-comment"># `+' and space flag disables complements for negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%x&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0x7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-7b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%x&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..f85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;0x..f85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#x&quot;</span>, <span class="ruby-value">0</span>)    <span class="ruby-comment">#=&gt; &quot;0&quot;</span>

<span class="ruby-comment"># `#' for `X' uses the prefix `0X'.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%X&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;7B&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#X&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;0X7B&quot;</span>

<span class="ruby-comment"># `#' flag for `b' add a prefix `0b' for non-zero numbers.</span>
<span class="ruby-comment"># `+' and space flag disables complements for negative numbers.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%b&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;0b1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+b&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;-1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%b&quot;</span>, <span class="ruby-value">-123</span>)  <span class="ruby-comment">#=&gt; &quot;..10000101&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;0b..10000101&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#b&quot;</span>, <span class="ruby-value">0</span>)    <span class="ruby-comment">#=&gt; &quot;0&quot;</span>

<span class="ruby-comment"># `#' for `B' uses the prefix `0B'.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%B&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;1111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#B&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;0B1111011&quot;</span>

<span class="ruby-comment"># `#' for `e' forces to show the decimal point.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%.0e&quot;</span>, <span class="ruby-value">1</span>)  <span class="ruby-comment">#=&gt; &quot;1e+00&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#.0e&quot;</span>, <span class="ruby-value">1</span>) <span class="ruby-comment">#=&gt; &quot;1.e+00&quot;</span>

<span class="ruby-comment"># `#' for `f' forces to show the decimal point.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%.0f&quot;</span>, <span class="ruby-value">1234</span>)  <span class="ruby-comment">#=&gt; &quot;1234&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#.0f&quot;</span>, <span class="ruby-value">1234</span>) <span class="ruby-comment">#=&gt; &quot;1234.&quot;</span>

<span class="ruby-comment"># `#' for `g' forces to show the decimal point.</span>
<span class="ruby-comment"># It also disables stripping lowest zeros.</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%g&quot;</span>, <span class="ruby-value">123.4</span>)   <span class="ruby-comment">#=&gt; &quot;123.4&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#g&quot;</span>, <span class="ruby-value">123.4</span>)  <span class="ruby-comment">#=&gt; &quot;123.400&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%g&quot;</span>, <span class="ruby-value">123456</span>)  <span class="ruby-comment">#=&gt; &quot;123456&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#g&quot;</span>, <span class="ruby-value">123456</span>) <span class="ruby-comment">#=&gt; &quot;123456.&quot;</span>
</pre>

<p>The field width is an optional integer, followed optionally by a period and
a precision.  The width specifies the minimum number of characters that
will be written to the result for this field.</p>

<p>Examples of width:</p>

<pre class="ruby"><span class="ruby-comment"># padding is done by spaces,       width=20</span>
<span class="ruby-comment"># 0 or radix-1.             &lt;------------------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20d&quot;</span>, <span class="ruby-value">123</span>)   <span class="ruby-comment">#=&gt; &quot;                 123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+20d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;                +123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%020d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;00000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+020d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+0000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;% 020d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 0000000000000000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%-20d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;123                 &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%-+20d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot;+123                &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%- 20d&quot;</span>, <span class="ruby-value">123</span>) <span class="ruby-comment">#=&gt; &quot; 123                &quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%020x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;..ffffffffffffffff85&quot;</span>
</pre>

<p>For numeric fields, the precision controls the number of decimal places
displayed.  For string fields, the precision determines the maximum number
of characters to be copied from the string.  (Thus, the format sequence
<code>%10.10s</code> will always contribute exactly ten characters to the
result.)</p>

<p>Examples of precisions:</p>

<pre class="ruby"><span class="ruby-comment"># precision for `d', 'o', 'x' and 'b' is</span>
<span class="ruby-comment"># minimum number of digits               &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            0000007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            01111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8d&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;           -00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..777605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..ffff85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8b&quot;</span>, <span class="ruby-value">-11</span>)  <span class="ruby-comment">#=&gt; &quot;            ..110101&quot;</span>

<span class="ruby-comment"># &quot;0x&quot; and &quot;0b&quot; for `#x' and `#b' is not counted for</span>
<span class="ruby-comment"># precision but &quot;0&quot; for `#o' is counted.  &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8d&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8o&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;            00000173&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8x&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;          0x0000007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8b&quot;</span>, <span class="ruby-value">123</span>)  <span class="ruby-comment">#=&gt; &quot;          0b01111011&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8d&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;           -00000123&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8o&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;            ..777605&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8x&quot;</span>, <span class="ruby-value">-123</span>) <span class="ruby-comment">#=&gt; &quot;          0x..ffff85&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#20.8b&quot;</span>, <span class="ruby-value">-11</span>)  <span class="ruby-comment">#=&gt; &quot;          0b..110101&quot;</span>

<span class="ruby-comment"># precision for `e' is number of</span>
<span class="ruby-comment"># digits after the decimal point           &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8e&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;      1.23456789e+03&quot;</span>

<span class="ruby-comment"># precision for `f' is number of</span>
<span class="ruby-comment"># digits after the decimal point               &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8f&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;       1234.56789000&quot;</span>

<span class="ruby-comment"># precision for `g' is number of</span>
<span class="ruby-comment"># significant digits                          &lt;-------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8g&quot;</span>, <span class="ruby-value">1234.56789</span>) <span class="ruby-comment">#=&gt; &quot;           1234.5679&quot;</span>

<span class="ruby-comment">#                                         &lt;-------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8g&quot;</span>, <span class="ruby-value">123456789</span>)  <span class="ruby-comment">#=&gt; &quot;       1.2345679e+08&quot;</span>

<span class="ruby-comment"># precision for `s' is</span>
<span class="ruby-comment"># maximum number of characters                    &lt;------&gt;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%20.8s&quot;</span>, <span class="ruby-string">&quot;string test&quot;</span>) <span class="ruby-comment">#=&gt; &quot;            string t&quot;</span>
</pre>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d %04x&quot;</span>, <span class="ruby-value">123</span>, <span class="ruby-value">123</span>)               <span class="ruby-comment">#=&gt; &quot;123 007b&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%08b '%4s'&quot;</span>, <span class="ruby-value">123</span>, <span class="ruby-value">123</span>)            <span class="ruby-comment">#=&gt; &quot;01111011 ' 123'&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%1$*2$s %2$d %1$s&quot;</span>, <span class="ruby-string">&quot;hello&quot;</span>, <span class="ruby-value">8</span>)   <span class="ruby-comment">#=&gt; &quot;   hello 8 hello&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%1$*2$s %2$d&quot;</span>, <span class="ruby-string">&quot;hello&quot;</span>, <span class="ruby-value">-8</span>)       <span class="ruby-comment">#=&gt; &quot;hello    -8&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%+g:% g:%-g&quot;</span>, <span class="ruby-value">1.23</span>, <span class="ruby-value">1.23</span>, <span class="ruby-value">1.23</span>)   <span class="ruby-comment">#=&gt; &quot;+1.23: 1.23:1.23&quot;</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%u&quot;</span>, <span class="ruby-value">-123</span>)                        <span class="ruby-comment">#=&gt; &quot;-123&quot;</span>
</pre>

<p>For more complex formatting, Ruby supports a reference by name.
%&lt;name&gt;s style uses format style, but %name style doesn’t.</p>

<p>Exapmles:</p>

<pre class="ruby"><span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%&lt;foo&gt;d : %&lt;bar&gt;f&quot;</span>, { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, :<span class="ruby-identifier">bar</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> })
  <span class="ruby-comment">#=&gt; 1 : 2.000000</span>
<span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%{foo}f&quot;</span>, { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
  <span class="ruby-comment"># =&gt; &quot;1f&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>format</strong>(format_string[, arguments...]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>sprintf</strong>(format_string[, arguments...]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


432
433
434
435
436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sprintf.c', line 432</span>

VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="srand-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>srand</strong>(number = 0) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Seeds the pseudorandom number generator to the value of <em>number</em>. If
<em>number</em> is omitted, seeds the generator using a combination of the
time, the process id, and a sequence number. (This is also the behavior if
<code>Kernel::rand</code> is called without previously calling
<code>srand</code>, but without the sequence.) By setting the seed to a
known value, scripts can be made deterministic during testing. The previous
seed value is returned. Also see <code>Kernel::rand</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'random.c', line 777</span>

static VALUE
rb_f_srand(int argc, VALUE *argv, VALUE obj)
{
    VALUE seed, old;
    rb_random_t *r = &amp;default_rand;

    rb_secure(4);
    if (argc == 0) {
	seed = random_seed();
    }
    else {
	rb_scan_args(argc, argv, &quot;01&quot;, &amp;seed);
    }
    old = r-&gt;seed;
    r-&gt;seed = rand_init(&amp;r-&gt;mt, seed);

    return old;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="String-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>String</strong>(arg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>arg</em> to a <code>String</code> by calling its
<code>to_s</code> method.</p>

<pre class="ruby"><span class="ruby-constant">String</span>(<span class="ruby-keyword">self</span>)        <span class="ruby-comment">#=&gt; &quot;main&quot;</span>
<span class="ruby-constant">String</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>)  <span class="ruby-comment">#=&gt; &quot;Object&quot;</span>
<span class="ruby-constant">String</span>(<span class="ruby-value">123456</span>)      <span class="ruby-comment">#=&gt; &quot;123456&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2462
2463
2464
2465
2466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 2462</span>

static VALUE
rb_f_string(VALUE obj, VALUE arg)
{
    return rb_String(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="syscall-instance_method">
  
    - (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>syscall</strong>(num[, args...]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calls the operating system function identified by <em>num</em> and returns
the result of the function or raises SystemCallError if it failed.</p>

<p>Arguments for the function can follow <em>num</em>. They must be either
<code>String</code> objects or <code>Integer</code> objects. A
<code>String</code> object is passed as a pointer to the byte sequence. An
<code>Integer</code> object is passed as an integer whose bit size is same
as a pointer. Up to nine parameters may be passed (14 on the Atari-ST).</p>

<p>The function identified by <em>num</em> is system dependent. On some Unix
systems, the numbers may be obtained from a header file called
<code>syscall.h</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_syscall'>syscall</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>6</span>   <span class='comment'># '4' is write(2) on our box</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_hello'>hello</span></code></pre>

<p>Calling <code>syscall</code> on a platform which does not have any way to
an arbitrary system function just fails with NotImplementedError.</p>
<dl class="rdoc-list note-list"><dt>Note
<dd>
<p><code>syscall</code> is essentially unsafe and unportable. Feel free to
shoot your foot. DL (Fiddle) library is preferred for safer and a bit more
portable programming.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8469
8470
8471
8472
8473
8474
8475
8476
8477
8478
8479
8480
8481
8482
8483
8484
8485
8486
8487
8488
8489
8490
8491
8492
8493
8494
8495
8496
8497
8498
8499
8500
8501
8502
8503
8504
8505
8506
8507
8508
8509
8510
8511
8512
8513
8514
8515
8516
8517
8518
8519
8520
8521
8522
8523
8524
8525
8526
8527
8528
8529
8530
8531
8532
8533
8534
8535
8536
8537
8538
8539
8540
8541
8542
8543
8544
8545
8546
8547
8548
8549
8550
8551
8552
8553
8554
8555
8556
8557
8558
8559
8560
8561
8562
8563
8564
8565
8566
8567
8568
8569
8570
8571
8572
8573
8574
8575
8576
8577
8578
8579
8580
8581
8582
8583
8584
8585
8586
8587
8588
8589
8590</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8469</span>

static VALUE
rb_f_syscall(int argc, VALUE *argv)
{
#ifdef atarist
    VALUE arg[13]; /* yes, we really need that many ! */
#else
    VALUE arg[8];
#endif
#if SIZEOF_VOIDP == 8 &amp;&amp; defined(HAVE___SYSCALL) &amp;&amp; SIZEOF_INT != 8 /* mainly *BSD */
# define SYSCALL __syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
# if SIZEOF_LONG == 8
    long num, retval = -1;
# elif SIZEOF_LONG_LONG == 8
    long long num, retval = -1;
# else
#  error ----&gt;&gt; it is asserted that __syscall takes the first argument and returns retval in 64bit signed integer. &lt;&lt;----
# endif
#elif defined linux
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
    /*
     * Linux man page says, syscall(2) function prototype is below.
     *
     *     int syscall(int number, ...);
     *
     * But, it's incorrect. Actual one takes and returned long. (see unistd.h)
     */
    long num, retval = -1;
#else
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2INT(x)
# define RETVAL2NUM(x) INT2NUM(x)
    int num, retval = -1;
#endif
    int i;

    if (RTEST(ruby_verbose)) {
	rb_warning(&quot;We plan to remove a syscall function at future release. DL(Fiddle) provides safer alternative.&quot;);
    }

    rb_secure(2);
    if (argc == 0)
	rb_raise(rb_eArgError, &quot;too few arguments for syscall&quot;);
    if (argc &gt; numberof(arg))
	rb_raise(rb_eArgError, &quot;too many arguments for syscall&quot;);
    num = NUM2SYSCALLID(argv[0]); ++argv;
    for (i = argc - 1; i--; ) {
	VALUE v = rb_check_string_type(argv[i]);

	if (!NIL_P(v)) {
	    SafeStringValue(v);
	    rb_str_modify(v);
	    arg[i] = (VALUE)StringValueCStr(v);
	}
	else {
	    arg[i] = (VALUE)NUM2LONG(argv[i]);
	}
    }

    switch (argc) {
      case 1:
	retval = SYSCALL(num);
	break;
      case 2:
	retval = SYSCALL(num, arg[0]);
	break;
      case 3:
	retval = SYSCALL(num, arg[0],arg[1]);
	break;
      case 4:
	retval = SYSCALL(num, arg[0],arg[1],arg[2]);
	break;
      case 5:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3]);
	break;
      case 6:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4]);
	break;
      case 7:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5]);
	break;
      case 8:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6]);
	break;
#ifdef atarist
      case 9:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7]);
	break;
      case 10:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7], arg[8]);
	break;
      case 11:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7], arg[8], arg[9]);
	break;
      case 12:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7], arg[8], arg[9], arg[10]);
	break;
      case 13:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7], arg[8], arg[9], arg[10], arg[11]);
	break;
      case 14:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6],
	  arg[7], arg[8], arg[9], arg[10], arg[11], arg[12]);
        break;
#endif
    }

    if (retval == -1)
	rb_sys_fail(0);
    return RETVAL2NUM(retval);
#undef SYSCALL
#undef NUM2SYSCALLID
#undef RETVAL2NUM
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="system-instance_method">
  
    - (<tt>true</tt>, ...) <strong>system</strong>([env,][,options]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Executes <em>command…</em> in a subshell. <em>command…</em> is one of
following forms.</p>

<pre class="code"><code class="">commandline                 : command line string which is passed to the standard shell
cmdname, arg1, ...          : command name and one or more arguments (no shell)
[cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)</code></pre>

<p>system returns <code>true</code> if the command gives zero exit status,
<code>false</code> for non zero exit status. Returns <code>nil</code> if
command execution fails. An error status is available in <code>$?</code>.
The arguments are processed in the same way as for
<code>Kernel.spawn</code>.</p>

<p>The hash arguments, env and options, are same as <code>exec</code> and
<code>spawn</code>. See <code>Kernel.spawn</code> for details.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo *</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">config.h main.rb
*</code></pre>

<p>See <code>Kernel.exec</code> for the standard shell.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3144
3145
3146
3147
3148
3149
3150
3151
3152
3153
3154
3155
3156
3157
3158
3159
3160
3161
3162
3163
3164
3165
3166
3167
3168
3169
3170
3171
3172
3173
3174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3144</span>

static VALUE
rb_f_system(int argc, VALUE *argv)
{
    rb_pid_t pid;
    int status;

#if defined(SIGCLD) &amp;&amp; !defined(SIGCHLD)
# define SIGCHLD SIGCLD
#endif

#ifdef SIGCHLD
    RETSIGTYPE (*chfunc)(int);

    chfunc = signal(SIGCHLD, SIG_DFL);
#endif
    pid = rb_spawn_internal(argc, argv, FALSE, NULL, 0);
#if defined(HAVE_FORK) || defined(HAVE_SPAWNV)
    if (pid &gt; 0) {
	rb_syswait(pid);
    }
#endif
#ifdef SIGCHLD
    signal(SIGCHLD, chfunc);
#endif
    if (pid &lt; 0) {
	return Qnil;
    }
    status = PST2INT(rb_last_status_get());
    if (status == EXIT_SUCCESS) return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="test-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>test</strong>(int_cmd, file1[, file2]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Uses the integer <em>aCmd</em> to perform various tests on <em>file1</em>
(first table below) or on <em>file1</em> and <em>file2</em> (second table).</p>

<p>File tests on a single file:</p>

<pre class="code"><code class="">Test   Returns   Meaning
&quot;A&quot;  | Time    | Last access time for file1
&quot;b&quot;  | boolean | True if file1 is a block device
&quot;c&quot;  | boolean | True if file1 is a character device
&quot;C&quot;  | Time    | Last change time for file1
&quot;d&quot;  | boolean | True if file1 exists and is a directory
&quot;e&quot;  | boolean | True if file1 exists
&quot;f&quot;  | boolean | True if file1 exists and is a regular file
&quot;g&quot;  | boolean | True if file1 has the \CF{setgid} bit
     |         | set (false under NT)
&quot;G&quot;  | boolean | True if file1 exists and has a group
     |         | ownership equal to the caller's group
&quot;k&quot;  | boolean | True if file1 exists and has the sticky bit set
&quot;l&quot;  | boolean | True if file1 exists and is a symbolic link
&quot;M&quot;  | Time    | Last modification time for file1
&quot;o&quot;  | boolean | True if file1 exists and is owned by
     |         | the caller's effective uid
&quot;O&quot;  | boolean | True if file1 exists and is owned by
     |         | the caller's real uid
&quot;p&quot;  | boolean | True if file1 exists and is a fifo
&quot;r&quot;  | boolean | True if file1 is readable by the effective
     |         | uid/gid of the caller
&quot;R&quot;  | boolean | True if file is readable by the real
     |         | uid/gid of the caller
&quot;s&quot;  | int/nil | If file1 has nonzero size, return the size,
     |         | otherwise return nil
&quot;S&quot;  | boolean | True if file1 exists and is a socket
&quot;u&quot;  | boolean | True if file1 has the setuid bit set
&quot;w&quot;  | boolean | True if file1 exists and is writable by
     |         | the effective uid/gid
&quot;W&quot;  | boolean | True if file1 exists and is writable by
     |         | the real uid/gid
&quot;x&quot;  | boolean | True if file1 exists and is executable by
     |         | the effective uid/gid
&quot;X&quot;  | boolean | True if file1 exists and is executable by
     |         | the real uid/gid
&quot;z&quot;  | boolean | True if file1 exists and has a zero length</code></pre>

<p>Tests that take two files:</p>

<pre class="code"><code class="">&quot;-&quot;  | boolean | True if file1 and file2 are identical
&quot;=&quot;  | boolean | True if the modification times of file1
     |         | and file2 are equal
&quot;&lt;&quot;  | boolean | True if the modification time of file1
     |         | is prior to that of file2
&quot;&gt;&quot;  | boolean | True if the modification time of file1
     |         | is after that of file2</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4314
4315
4316
4317
4318
4319
4320
4321
4322
4323
4324
4325
4326
4327
4328
4329
4330
4331
4332
4333
4334
4335
4336
4337
4338
4339
4340
4341
4342
4343
4344
4345
4346
4347
4348
4349
4350
4351
4352
4353
4354
4355
4356
4357
4358
4359
4360
4361
4362
4363
4364
4365
4366
4367
4368
4369
4370
4371
4372
4373
4374
4375
4376
4377
4378
4379
4380
4381
4382
4383
4384
4385
4386
4387
4388
4389
4390
4391
4392
4393
4394
4395
4396
4397
4398
4399
4400
4401
4402
4403
4404
4405
4406
4407
4408
4409
4410
4411
4412
4413
4414
4415
4416
4417
4418
4419
4420
4421
4422
4423
4424
4425
4426
4427
4428
4429
4430
4431
4432
4433
4434
4435
4436
4437
4438
4439
4440
4441
4442
4443
4444
4445
4446
4447
4448
4449</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c', line 4314</span>

static VALUE
rb_f_test(int argc, VALUE *argv)
{
    int cmd;

    if (argc == 0) rb_raise(rb_eArgError, &quot;wrong number of arguments (0 for 2..3)&quot;);
    cmd = NUM2CHR(argv[0]);
    if (cmd == 0) goto unknown;
    if (strchr(&quot;bcdefgGkloOprRsSuwWxXz&quot;, cmd)) {
	CHECK(1);
	switch (cmd) {
	  case 'b':
	    return rb_file_blockdev_p(0, argv[1]);

	  case 'c':
	    return rb_file_chardev_p(0, argv[1]);

	  case 'd':
	    return rb_file_directory_p(0, argv[1]);

	  case 'a':
	  case 'e':
	    return rb_file_exist_p(0, argv[1]);

	  case 'f':
	    return rb_file_file_p(0, argv[1]);

	  case 'g':
	    return rb_file_sgid_p(0, argv[1]);

	  case 'G':
	    return rb_file_grpowned_p(0, argv[1]);

	  case 'k':
	    return rb_file_sticky_p(0, argv[1]);

	  case 'l':
	    return rb_file_symlink_p(0, argv[1]);

	  case 'o':
	    return rb_file_owned_p(0, argv[1]);

	  case 'O':
	    return rb_file_rowned_p(0, argv[1]);

	  case 'p':
	    return rb_file_pipe_p(0, argv[1]);

	  case 'r':
	    return rb_file_readable_p(0, argv[1]);

	  case 'R':
	    return rb_file_readable_real_p(0, argv[1]);

	  case 's':
	    return rb_file_size_p(0, argv[1]);

	  case 'S':
	    return rb_file_socket_p(0, argv[1]);

	  case 'u':
	    return rb_file_suid_p(0, argv[1]);

	  case 'w':
	    return rb_file_writable_p(0, argv[1]);

	  case 'W':
	    return rb_file_writable_real_p(0, argv[1]);

	  case 'x':
	    return rb_file_executable_p(0, argv[1]);

	  case 'X':
	    return rb_file_executable_real_p(0, argv[1]);

	  case 'z':
	    return rb_file_zero_p(0, argv[1]);
	}
    }

    if (strchr(&quot;MAC&quot;, cmd)) {
	struct stat st;
	VALUE fname = argv[1];

	CHECK(1);
	if (rb_stat(fname, &amp;st) == -1) {
	    FilePathValue(fname);
	    rb_sys_fail_path(fname);
	}

	switch (cmd) {
	  case 'A':
	    return stat_atime(&amp;st);
	  case 'M':
	    return stat_mtime(&amp;st);
	  case 'C':
	    return stat_ctime(&amp;st);
	}
    }

    if (cmd == '-') {
	CHECK(2);
	return rb_file_identical_p(0, argv[1], argv[2]);
    }

    if (strchr(&quot;=&lt;&gt;&quot;, cmd)) {
	struct stat st1, st2;

	CHECK(2);
	if (rb_stat(argv[1], &amp;st1) &lt; 0) return Qfalse;
	if (rb_stat(argv[2], &amp;st2) &lt; 0) return Qfalse;

	switch (cmd) {
	  case '=':
	    if (st1.st_mtime == st2.st_mtime) return Qtrue;
	    return Qfalse;

	  case '&gt;':
	    if (st1.st_mtime &gt; st2.st_mtime) return Qtrue;
	    return Qfalse;

	  case '&lt;':
	    if (st1.st_mtime &lt; st2.st_mtime) return Qtrue;
	    return Qfalse;
	}
    }
  unknown:
    /* unknown command */
    if (ISPRINT(cmd)) {
	rb_raise(rb_eArgError, &quot;unknown command '%s%c'&quot;, cmd == '\'' || cmd == '\\' ? &quot;\\&quot; : &quot;&quot;, cmd);
    }
    else {
	rb_raise(rb_eArgError, &quot;unknown command \&quot;\\x%02X\&quot;&quot;, cmd);
    }
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="throw-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>throw</strong>(tag[, obj]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Transfers control to the end of the active <code>catch</code> block waiting
for <em>tag</em>. Raises <code>ArgumentError</code> if there is no
<code>catch</code> block for the <em>tag</em>. The optional second
parameter supplies a return value for the <code>catch</code> block, which
otherwise defaults to <code>nil</code>. For examples, see
<code>Kernel::catch</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1453
1454
1455
1456
1457
1458
1459
1460
1461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1453</span>

static VALUE
rb_f_throw(int argc, VALUE *argv)
{
    VALUE tag, value;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;tag, &amp;value);
    rb_throw_obj(tag, value);
    return Qnil;		/* not reached */
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trace_var-instance_method">
  
    
      <span class="overload">- (<tt>nil</tt>) <strong>trace_var</strong>(symbol, cmd) </span>
    
      <span class="overload">- (<tt>nil</tt>) <strong>trace_var</strong>(symbol) {|val| ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Controls tracing of assignments to global variables. The parameter +symbol_
identifies the variable (as either a string name or a symbol identifier).
<em>cmd</em> (which may be a string or a <code>Proc</code> object) or block
is executed whenever the variable is assigned. The block or
<code>Proc</code> object receives the variable’s new value as a parameter.
Also see <code>Kernel::untrace_var</code>.</p>

<pre class="ruby"><span class="ruby-identifier">trace_var</span> :<span class="ruby-identifier">$_</span>, <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;$_ is now '#{v}'&quot;</span> }
<span class="ruby-identifier">$_</span> = <span class="ruby-string">&quot;hello&quot;</span>
<span class="ruby-identifier">$_</span> = <span class="ruby-string">' there'</span>
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">$_ is now 'hello'
$_ is now ' there'</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>trace_var</strong>(symbol, cmd) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>nil</tt>) <strong>trace_var</strong>(symbol) {|val| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>val</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 566</span>

VALUE
rb_f_trace_var(int argc, VALUE *argv)
{
    VALUE var, cmd;
    struct global_entry *entry;
    struct trace_var *trace;

    rb_secure(4);
    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;var, &amp;cmd) == 1) {
	cmd = rb_block_proc();
    }
    if (NIL_P(cmd)) {
	return rb_f_untrace_var(argc, argv);
    }
    entry = rb_global_entry(rb_to_id(var));
    if (OBJ_TAINTED(cmd)) {
	rb_raise(rb_eSecurityError, &quot;Insecure: tainted variable trace&quot;);
    }
    trace = ALLOC(struct trace_var);
    trace-&gt;next = entry-&gt;var-&gt;trace;
    trace-&gt;func = rb_trace_eval;
    trace-&gt;data = cmd;
    trace-&gt;removed = 0;
    entry-&gt;var-&gt;trace = trace;

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trap-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>trap</strong>(signal, command) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>trap</strong>(signal) {|| ... }</span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies the handling of signals. The first parameter is a signal name (a
string such as “SIGALRM”, “SIGUSR1”, and so on) or a signal number. The
characters “SIG” may be omitted from the signal name. The command or block
specifies code to be run when the signal is raised. If the command is the
string “IGNORE” or “SIG_IGN”, the signal will be ignored. If the command is
“DEFAULT” or “SIG_DFL”, the Ruby’s default handler will be invoked. If the
command is “EXIT”, the script will be terminated by the signal. If the
command is “SYSTEM_DEFAULT”, the operating system’s default handler will be
invoked. Otherwise, the given command or block will be run. The special
signal name “EXIT” or signal number zero will be invoked just prior to
program termination. trap returns the previous handler for the given
signal.</p>

<pre class="code"><code class=""><span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Terminating: </span><span class='embexpr_beg'>#{</span><span class='gvar'>$$</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child died</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_fork'>fork</span> <span class='op'>&amp;&amp;</span> <span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span></code></pre>

<p>produces:</p>

<pre class="code"><code class="">Terminating: 27461
Child died
Terminating: 27460</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>trap</strong>(signal, command) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>trap</strong>(signal) {|| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'signal.c', line 935</span>

static VALUE
sig_trap(int argc, VALUE *argv)
{
    struct trap_arg arg;

    rb_secure(2);
    if (argc &lt; 1 || argc &gt; 2) {
	rb_raise(rb_eArgError, &quot;wrong number of arguments (%d for 1..2)&quot;, argc);
    }

    arg.sig = trap_signm(argv[0]);
    if (argc == 1) {
	arg.cmd = rb_block_proc();
	arg.func = sighandler;
    }
    else {
	arg.cmd = argv[1];
	arg.func = trap_handler(&amp;arg.cmd, arg.sig);
    }

    if (OBJ_TAINTED(arg.cmd)) {
	rb_raise(rb_eSecurityError, &quot;Insecure: tainted signal trap&quot;);
    }
#if USE_TRAP_MASK
    {
      sigset_t fullmask;

      /* disable interrupt */
      sigfillset(&amp;fullmask);
      pthread_sigmask(SIG_BLOCK, &amp;fullmask, &amp;arg.mask);

      return rb_ensure(trap, (VALUE)&amp;arg, trap_ensure, (VALUE)&amp;arg);
    }
#else
    return trap(&amp;arg);
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="untrace_var-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt><sup>?</sup>) <strong>untrace_var</strong>(symbol[, cmd]) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes tracing for the specified command on the given global variable and
returns <code>nil</code>. If no command is specified, removes all tracing
for that variable and returns an array containing the commands actually
removed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 626</span>

VALUE
rb_f_untrace_var(int argc, VALUE *argv)
{
    VALUE var, cmd;
    ID id;
    struct global_entry *entry;
    struct trace_var *trace;
    st_data_t data;

    rb_secure(4);
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;var, &amp;cmd);
    id = rb_to_id(var);
    if (!st_lookup(rb_global_tbl, (st_data_t)id, &amp;data)) {
	rb_name_error(id, &quot;undefined global variable %s&quot;, rb_id2name(id));
    }

    trace = (entry = (struct global_entry *)data)-&gt;var-&gt;trace;
    if (NIL_P(cmd)) {
	VALUE ary = rb_ary_new();

	while (trace) {
	    struct trace_var *next = trace-&gt;next;
	    rb_ary_push(ary, (VALUE)trace-&gt;data);
	    trace-&gt;removed = 1;
	    trace = next;
	}

	if (!entry-&gt;var-&gt;block_trace) remove_trace(entry-&gt;var);
	return ary;
    }
    else {
	while (trace) {
	    if (trace-&gt;data == cmd) {
		trace-&gt;removed = 1;
		if (!entry-&gt;var-&gt;block_trace) remove_trace(entry-&gt;var);
		return rb_ary_new3(1, cmd);
	    }
	    trace = trace-&gt;next;
	}
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="warn-instance_method">
  
    - (<tt>nil</tt>) <strong>warn</strong>(msg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Display the given message (followed by a newline) on STDERR unless warnings
are disabled (for example with the <code>-W0</code> flag).</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'error.c', line 234</span>

static VALUE
rb_warn_m(VALUE self, VALUE mesg)
{
    if (!NIL_P(ruby_verbose)) {
	rb_io_write(rb_stderr, mesg);
	rb_io_write(rb_stderr, rb_default_rs);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:16:13 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>