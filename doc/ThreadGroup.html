<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: ThreadGroup
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!ThreadGroup.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo;
    
    
    <span class="title">ThreadGroup</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: ThreadGroup
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">ThreadGroup</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">thread.c<span class="defines">,<br />
  thread.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p><code>ThreadGroup</code> provides a means of keeping track of a number of</p>

<pre class="code ruby"><code class="ruby">threads as a group. A &lt;code&gt;Thread&lt;/code&gt; can belong to only one
&lt;code&gt;ThreadGroup&lt;/code&gt; at a time; adding a thread to a new group will
remove it from any previous group.

Newly created threads belong to the same group as the thread from which they
were created.</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="Default-constant" class="">Default =
          
        </dt>
        <dd><pre class="code">th-&gt;thgroup</pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add-instance_method" title="#add (instance method)">- (Object) <strong>add</strong>(thread) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the given thread to this group, removing it from any other group to
which it may have previously belonged.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enclose-instance_method" title="#enclose (instance method)">- (Object) <strong>enclose</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prevents threads from being added to or removed from the receiving
ThreadGroup.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enclosed%3F-instance_method" title="#enclosed? (instance method)">- (Boolean) <strong>enclosed?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if thgrp is enclosed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list-instance_method" title="#list (instance method)">- (Array) <strong>list</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of all existing Thread objects that belong to this group.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>add</strong>(thread) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the given <em>thread</em> to this group, removing it from any other
group to which it may have previously belonged.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initial group is </span><span class='embexpr_beg'>#{</span><span class='const'>ThreadGroup</span><span class='op'>::</span><span class='const'>Default</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_tg'>tg</span> <span class='op'>=</span> <span class='const'>ThreadGroup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_t1'>t1</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_t2'>t2</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t1 is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t1'>t1</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t2 is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t2'>t2</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_tg'>tg</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_t1'>t1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initial group now </span><span class='embexpr_beg'>#{</span><span class='const'>ThreadGroup</span><span class='op'>::</span><span class='const'>Default</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tg group now </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tg'>tg</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='const'>Initial</span> <span class='id identifier rubyid_group'>group</span> <span class='id identifier rubyid_is'>is</span> <span class='comment'>#&lt;Thread:0x401bdf4c&gt;
</span><span class='id identifier rubyid_t1'>t1</span> <span class='id identifier rubyid_is'>is</span> <span class='comment'>#&lt;Thread:0x401b3c90&gt;
</span><span class='id identifier rubyid_t2'>t2</span> <span class='id identifier rubyid_is'>is</span> <span class='comment'>#&lt;Thread:0x401b3c18&gt;
</span><span class='const'>Initial</span> <span class='id identifier rubyid_group'>group</span> <span class='id identifier rubyid_now'>now</span> <span class='comment'>#&lt;Thread:0x401b3c18&gt;#&lt;Thread:0x401bdf4c&gt;
</span><span class='id identifier rubyid_tg'>tg</span> <span class='id identifier rubyid_group'>group</span> <span class='id identifier rubyid_now'>now</span> <span class='comment'>#&lt;Thread:0x401b3c90&gt;</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3310
3311
3312
3313
3314
3315
3316
3317
3318
3319
3320
3321
3322
3323
3324
3325
3326
3327
3328
3329
3330
3331
3332
3333
3334
3335
3336
3337
3338
3339
3340
3341
3342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread.c', line 3310</span>

static VALUE
thgroup_add(VALUE group, VALUE thread)
{
    rb_thread_t *th;
    struct thgroup *data;

    rb_secure(4);
    GetThreadPtr(thread, th);

    if (OBJ_FROZEN(group)) {
	rb_raise(rb_eThreadError, &quot;can't move to the frozen thread group&quot;);
    }
    TypedData_Get_Struct(group, struct thgroup, &amp;thgroup_data_type, data);
    if (data-&gt;enclosed) {
	rb_raise(rb_eThreadError, &quot;can't move to the enclosed thread group&quot;);
    }

    if (!th-&gt;thgroup) {
	return Qnil;
    }

    if (OBJ_FROZEN(th-&gt;thgroup)) {
	rb_raise(rb_eThreadError, &quot;can't move from the frozen thread group&quot;);
    }
    TypedData_Get_Struct(th-&gt;thgroup, struct thgroup, &amp;thgroup_data_type, data);
    if (data-&gt;enclosed) {
	rb_raise(rb_eThreadError,
		 &quot;can't move from the enclosed thread group&quot;);
    }

    th-&gt;thgroup = group;
    return group;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enclose-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>enclose</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prevents threads from being added to or removed from the receiving
<code>ThreadGroup</code>. New threads can still be started in an enclosed
<code>ThreadGroup</code>.</p>

<pre class="ruby"><span class="ruby-constant">ThreadGroup</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">enclose</span>        <span class="ruby-comment">#=&gt; #&lt;ThreadGroup:0x4029d914&gt;</span>
<span class="ruby-identifier">thr</span> = <span class="ruby-constant">Thread</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span> { <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">stop</span> }   <span class="ruby-comment">#=&gt; #&lt;Thread:0x402a7210 sleep&gt;</span>
<span class="ruby-identifier">tg</span> = <span class="ruby-constant">ThreadGroup</span><span class="ruby-operator">::</span><span class="ruby-identifier">new</span>               <span class="ruby-comment">#=&gt; #&lt;ThreadGroup:0x402752d4&gt;</span>
<span class="ruby-identifier">tg</span>.<span class="ruby-identifier">add</span> <span class="ruby-identifier">thr</span>
</pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">ThreadError: can't move from the enclosed thread group</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3252
3253
3254
3255
3256
3257
3258
3259
3260
3261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread.c', line 3252</span>

static VALUE
thgroup_enclose(VALUE group)
{
    struct thgroup *data;

    TypedData_Get_Struct(group, struct thgroup, &amp;thgroup_data_type, data);
    data-&gt;enclosed = 1;

    return group;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enclosed?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>enclosed?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <em>thgrp</em> is enclosed. See also
ThreadGroup#enclose.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3272
3273
3274
3275
3276
3277
3278
3279
3280
3281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread.c', line 3272</span>

static VALUE
thgroup_enclosed_p(VALUE group)
{
    struct thgroup *data;

    TypedData_Get_Struct(group, struct thgroup, &amp;thgroup_data_type, data);
    if (data-&gt;enclosed)
	return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>list</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of all existing <code>Thread</code> objects that belong to
this group.</p>

<pre class="ruby"><span class="ruby-constant">ThreadGroup</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">list</span>   <span class="ruby-comment">#=&gt; [#&lt;Thread:0x401bdf4c run&gt;]</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3221
3222
3223
3224
3225
3226
3227
3228
3229
3230
3231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread.c', line 3221</span>

static VALUE
thgroup_list(VALUE group)
{
    VALUE ary = rb_ary_new();
    struct thgroup_list_params param;

    param.ary = ary;
    param.group = group;
    st_foreach(GET_THREAD()-&gt;vm-&gt;living_threads, thgroup_list_i, (st_data_t) &amp; param);
    return ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:16:46 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>