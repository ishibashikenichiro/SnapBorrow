<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: OpenSSL::ASN1::Constructive
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!OpenSSL/ASN1/Constructive.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../ASN1.html" title="OpenSSL::ASN1 (module)">ASN1</a></span></span>
     &raquo; 
    <span class="title">Constructive</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: OpenSSL::ASN1::Constructive
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">OpenSSL::ASN1::Constructive</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/openssl/ossl_asn1.c</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The parent class for all constructed encodings. The <code>value</code>
attribute of a Constructive is always an <code>Array</code>. Attributes are
the same as for ASN1Data, with the addition of <code>tagging</code>.</p>

<h2 id="label-SET+and+SEQUENCE">SET and SEQUENCE</h2>

<p>Most constructed encodings come in the form of a SET or a SEQUENCE. These
encodings are represented by one of the two sub-classes of Constructive:</p>
<ul><li>
<p>OpenSSL::ASN1::Set</p>
</li><li>
<p>OpenSSL::ASN1::Sequence</p>
</li></ul>

<p>Please note that tagged sequences and sets are still parsed as instances of
ASN1Data. Find further details on tagged values there.</p>

<h3 id="label-Example+-+constructing+a+SEQUENCE">Example - constructing a SEQUENCE</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_int'>int</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>Integer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>PrintableString</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>abc</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_sequence'>sequence</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>Sequence</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_str'>str</span> <span class='rbracket'>]</span> <span class='rparen'>)</span></code></pre>

<h3 id="label-Example+-+constructing+a+SET">Example - constructing a SET</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_int'>int</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>Integer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>PrintableString</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>abc</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_set'>set</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>ASN1</span><span class='op'>::</span><span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_str'>str</span> <span class='rbracket'>]</span> <span class='rparen'>)</span></code></pre>

<h2 id="label-Infinite+length+primitive+values">Infinite length primitive values</h2>

<p>The only case where Constructive is used directly is for infinite length
encodings of primitive values. These encodings are always constructed, with
the contents of the <code>value</code> <code>Array</code> being either
UNIVERSAL non-infinite length partial encodings of the actual value or
again constructive encodings with infinite length (i.e. infinite length
primitive encodings may be constructed recursively with another infinite
length value within an already infinite length value). Each partial
encoding must be of the same UNIVERSAL type as the overall encoding. The
value of the overall encoding consists of the concatenation of each partial
encoding taken in sequence. The <code>value</code> array of the outer
infinite length value must end with a OpenSSL::ASN1::EndOfContent instance.</p>

<p>Please note that it is not possible to encode Constructive without the
<code>infinite_length</code> attribute being set to <code>true</code>, use
OpenSSL::ASN1::Sequence or OpenSSL::ASN1::Set in these cases instead.</p>

<h3 id="label-Example+-+Infinite+length+OCTET+STRING">Example - Infinite length OCTET STRING</h3>

<pre class="ruby"><span class="ruby-identifier">partial1</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span><span class="ruby-operator">::</span><span class="ruby-constant">OctetString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\x01&quot;</span>)
<span class="ruby-identifier">partial2</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span><span class="ruby-operator">::</span><span class="ruby-constant">OctetString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\x02&quot;</span>)
<span class="ruby-identifier">inf_octets</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span><span class="ruby-operator">::</span><span class="ruby-constant">Constructive</span>.<span class="ruby-identifier">new</span>( [ <span class="ruby-identifier">partial1</span>,
                                                <span class="ruby-identifier">partial2</span>,
                                                <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span><span class="ruby-operator">::</span><span class="ruby-constant">EndOfContent</span>.<span class="ruby-identifier">new</span> ],
                                              <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span><span class="ruby-operator">::</span><span class="ruby-constant">OCTET_STRING</span>,
                                              <span class="ruby-keyword">nil</span>,
                                              :<span class="ruby-constant">UNIVERSAL</span> )
<span class="ruby-comment"># The real value of inf_octets is &quot;\x01\x02&quot;, i.e. the concatenation</span>
<span class="ruby-comment"># of partial1 and partial2</span>
<span class="ruby-identifier">inf_octets</span>.<span class="ruby-identifier">infinite_length</span> = <span class="ruby-keyword">true</span>
<span class="ruby-identifier">der</span> = <span class="ruby-identifier">inf_octets</span>.<span class="ruby-identifier">to_der</span>
<span class="ruby-identifier">asn1</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">ASN1</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-identifier">der</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">asn1</span>.<span class="ruby-identifier">infinite_length</span> <span class="ruby-comment"># =&gt; true</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div>








</div>

    <div id="footer">
  Generated on Wed Nov 19 10:17:12 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>