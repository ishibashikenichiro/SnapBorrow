<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Readline
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Readline.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">Readline</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Readline
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">ext/readline/readline.c</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="HISTORY-constant" class="">HISTORY =
          <div class="docstring">
  <div class="discussion">
    
<p>The history buffer. It extends Enumerable module, so it behaves just like
an array. For example, gets the fifth content that the user input by <a
href="http://4">HISTORY</a>.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='id identifier rubyid_history'>history</span></pre></dd>
      
        <dt id="FILENAME_COMPLETION_PROC-constant" class="">FILENAME_COMPLETION_PROC =
          <div class="docstring">
  <div class="discussion">
    
<p>The Object with the call method that is a completion for filename. This is
sets by Readline.completion_proc= method.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='id identifier rubyid_fcomp'>fcomp</span></pre></dd>
      
        <dt id="USERNAME_COMPLETION_PROC-constant" class="">USERNAME_COMPLETION_PROC =
          <div class="docstring">
  <div class="discussion">
    
<p>The Object with the call method that is a completion for usernames. This is
sets by Readline.completion_proc= method.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='id identifier rubyid_ucomp'>ucomp</span></pre></dd>
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>Version string of GNU Readline or libedit.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='id identifier rubyid_version'>version</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters-class_method" title="basic_quote_characters (class method)">+ (String) <strong>basic_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of quote characters which can cause a word break.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters%3D-class_method" title="basic_quote_characters= (class method)">+ (Object) <strong>basic_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of quote characters which can cause a word break.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters-class_method" title="basic_word_break_characters (class method)">+ (String) <strong>basic_word_break_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the basic list of characters that signal a break between words for the
completer routine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters%3D-class_method" title="basic_word_break_characters= (class method)">+ (Object) <strong>basic_word_break_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the basic list of characters that signal a break between words for the
completer routine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters-class_method" title="completer_quote_characters (class method)">+ (String) <strong>completer_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of characters which can be used to quote a substring of the
line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters%3D-class_method" title="completer_quote_characters= (class method)">+ (Object) <strong>completer_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of characters which can be used to quote a substring of the
line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters-class_method" title="completer_word_break_characters (class method)">+ (String) <strong>completer_word_break_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the basic list of characters that signal a break between words for
rl_complete_internal().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters%3D-class_method" title="completer_word_break_characters= (class method)">+ (Object) <strong>completer_word_break_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the basic list of characters that signal a break between words for
rl_complete_internal().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character-class_method" title="completion_append_character (class method)">+ (String) <strong>completion_append_character</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string containing a character to be appended on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character%3D-class_method" title="completion_append_character= (class method)">+ (Object) <strong>completion_append_character=</strong>(char) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a character to be appended on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold-class_method" title="completion_case_fold (class method)">+ (Boolean) <strong>completion_case_fold</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if completion ignores case.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold%3D-class_method" title="completion_case_fold= (class method)">+ (Object) <strong>completion_case_fold=</strong>(bool) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets whether or not to ignore case on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc-class_method" title="completion_proc (class method)">+ (Proc) <strong>completion_proc</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the completion Proc object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc%3D-class_method" title="completion_proc= (class method)">+ (Object) <strong>completion_proc=</strong>(proc) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a Proc object <code>proc</code> to determine completion behavior.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode-class_method" title="emacs_editing_mode (class method)">+ (nil) <strong>emacs_editing_mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies Emacs editing mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode%3F-class_method" title="emacs_editing_mode? (class method)">+ (Boolean) <strong>emacs_editing_mode?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if emacs mode is active.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters-class_method" title="filename_quote_characters (class method)">+ (String) <strong>filename_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters%3D-class_method" title="filename_quote_characters= (class method)">+ (Object) <strong>filename_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_screen_size-class_method" title="get_screen_size (class method)">+ (Array) <strong>get_screen_size</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the terminal’s rows and columns.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#input%3D-class_method" title="input= (class method)">+ (Object) <strong>input=</strong>(input) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a File object <code>input</code> that is input stream for
Readline.readline method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_buffer-class_method" title="line_buffer (class method)">+ (String) <strong>line_buffer</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the full line that is being edited.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output%3D-class_method" title="output= (class method)">+ (Object) <strong>output=</strong>(output) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a File object <code>output</code> that is output stream for
Readline.readline method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#point-class_method" title="point (class method)">+ (Integer) <strong>point</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-class_method" title="readline (class method)">+ (String<sup>?</sup>) <strong>readline</strong>(prompt = &quot;&quot;, add_hist = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Shows the <code>prompt</code> and reads the inputted line with line
editing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh_line-class_method" title="refresh_line (class method)">+ (nil) <strong>refresh_line</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear the current input line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_screen_size-class_method" title="set_screen_size (class method)">+ (self) <strong>set_screen_size</strong>(rows, columns) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set terminal size to <code>rows</code> and <code>columns</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode-class_method" title="vi_editing_mode (class method)">+ (nil) <strong>vi_editing_mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies VI editing mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode%3F-class_method" title="vi_editing_mode? (class method)">+ (Boolean) <strong>vi_editing_mode?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if vi mode is active.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="basic_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>basic_quote_characters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1123
1124
1125
1126
1127
1128
1129
1130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1123</span>

static VALUE
readline_s_get_basic_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_quote_characters == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_basic_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>basic_quote_characters=</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1087</span>

static VALUE
readline_s_set_basic_quote_characters(VALUE self, VALUE str)
{
    static char *basic_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_quote_characters == NULL) {
	basic_quote_characters =
	    ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
	REALLOC_N(basic_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_quote_characters,
	    RSTRING_PTR(str), RSTRING_LEN(str));
    basic_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_quote_characters = basic_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_word_break_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>basic_word_break_characters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the basic list of characters that signal a break between words for the
completer routine.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1003
1004
1005
1006
1007
1008
1009
1010</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1003</span>

static VALUE
readline_s_get_basic_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_word_break_characters == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_basic_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_word_break_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>basic_word_break_characters=</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the basic list of characters that signal a break between words for the
completer routine. The default is the characters which break words for
completion in Bash: “tn&quot;\‘`@$&gt;&lt;=;|&amp;{(”.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 967</span>

static VALUE
readline_s_set_basic_word_break_characters(VALUE self, VALUE str)
{
    static char *basic_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_word_break_characters == NULL) {
	basic_word_break_characters =
	    ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
	REALLOC_N(basic_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_word_break_characters,
	    RSTRING_PTR(str), RSTRING_LEN(str));
    basic_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_word_break_characters = basic_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>completer_quote_characters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of characters which can be used to quote a substring of the
line.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1185
1186
1187
1188
1189
1190
1191
1192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1185</span>

static VALUE
readline_s_get_completer_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_quote_characters == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_completer_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completer_quote_characters=</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of characters which can be used to quote a substring of the
line. Completion occurs on the entire substring, and within the substring
Readline.completer_word_break_characters are treated as any other
character, unless they also appear within this list.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1149</span>

static VALUE
readline_s_set_completer_quote_characters(VALUE self, VALUE str)
{
    static char *completer_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_quote_characters == NULL) {
	completer_quote_characters =
	    ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
	REALLOC_N(completer_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    completer_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_quote_characters = completer_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_word_break_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>completer_word_break_characters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the basic list of characters that signal a break between words for
rl_complete_internal().</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1064
1065
1066
1067
1068
1069
1070
1071</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1064</span>

static VALUE
readline_s_get_completer_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_word_break_characters == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_completer_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_word_break_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completer_word_break_characters=</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the basic list of characters that signal a break between words for
rl_complete_internal(). The default is the value of
Readline.basic_word_break_characters.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1028</span>

static VALUE
readline_s_set_completer_word_break_characters(VALUE self, VALUE str)
{
    static char *completer_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_word_break_characters == NULL) {
	completer_word_break_characters =
	    ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
	REALLOC_N(completer_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_word_break_characters,
	    RSTRING_PTR(str), RSTRING_LEN(str));
    completer_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_word_break_characters = completer_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_append_character-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>completion_append_character</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a string containing a character to be appended on completion. The
default is a space (“ ”).</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


938
939
940
941
942
943
944
945
946
947
948
949</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 938</span>

static VALUE
readline_s_get_completion_append_character(VALUE self)
{
    char buf[1];

    rb_secure(4);
    if (rl_completion_append_character == '\0')
	return Qnil;

    buf[0] = (char) rl_completion_append_character;
    return rb_locale_str_new(buf, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_append_character=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_append_character=</strong>(char) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a character to be appended on completion. Nothing will be
appended if an empty string (“”) or nil is specified.</p>

<p>For example:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
</pre>

<p>Result:</p>

<pre class="code"><code class="">&gt;
Input &quot;/var/li&quot;.

&gt; /var/li
Press TAB key.

&gt; /var/lib
Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.

&gt; /var/lib /usr</code></pre>

<p>NOTE: Only one character can be specified. When “string” is specified, sets
only “s” that is the first.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot;string&quot;</span>
<span class="ruby-identifier">p</span> <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> <span class="ruby-comment"># =&gt; &quot;s&quot;</span>
</pre>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 905</span>

static VALUE
readline_s_set_completion_append_character(VALUE self, VALUE str)
{
    rb_secure(4);
    if (NIL_P(str)) {
	rl_completion_append_character = '\0';
    }
    else {
	OutputStringValue(str);
	if (RSTRING_LEN(str) == 0) {
	    rl_completion_append_character = '\0';
	} else {
	    rl_completion_append_character = RSTRING_PTR(str)[0];
	}
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_case_fold-class_method">
  
    + (<tt>Boolean</tt>) <strong>completion_case_fold</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if completion ignores case. If no, returns false.</p>

<p>NOTE: Returns the same object that is specified by
Readline.completion_case_fold= method.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_case_fold</span> = <span class="ruby-string">&quot;This is a String.&quot;</span>
<span class="ruby-identifier">p</span> <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_case_fold</span> <span class="ruby-comment"># =&gt; &quot;This is a String.&quot;</span>
</pre>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


596
597
598
599
600
601</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 596</span>

static VALUE
readline_s_get_completion_case_fold(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_case_fold);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_case_fold=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_case_fold=</strong>(bool) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets whether or not to ignore case on completion.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


573
574
575
576
577
578</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 573</span>

static VALUE
readline_s_set_completion_case_fold(VALUE self, VALUE val)
{
    rb_secure(4);
    return rb_ivar_set(mReadline, completion_case_fold, val);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_proc-class_method">
  
    + (<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>) <strong>completion_proc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the completion Proc object.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


558
559
560
561
562
563</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 558</span>

static VALUE
readline_s_get_completion_proc(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_proc=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_proc=</strong>(proc) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a Proc object <code>proc</code> to determine completion behavior.
It should take input string and return an array of completion candidates.</p>

<p>The default completion is used if <code>proc</code> is nil.</p>

<p>The String that is passed to the Proc depends on the
Readline.completer_word_break_characters property.  By default the word
under the cursor is passed to the Proc.  For example, if the input is “foo
bar” then only “bar” would be passed to the completion Proc.</p>

<p>Upon successful completion the Readline.completion_append_character will be
appended to the input so the user can start working on their next argument.</p>

<h1 id="label-Examples">Examples</h1>

<h2 id="label-Completion+for+a+Static+List">Completion for a Static List</h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'readline'</span>

<span class="ruby-constant">LIST</span> = [
  <span class="ruby-string">'search'</span>, <span class="ruby-string">'download'</span>, <span class="ruby-string">'open'</span>,
  <span class="ruby-string">'help'</span>, <span class="ruby-string">'history'</span>, <span class="ruby-string">'quit'</span>,
  <span class="ruby-string">'url'</span>, <span class="ruby-string">'next'</span>, <span class="ruby-string">'clear'</span>,
  <span class="ruby-string">'prev'</span>, <span class="ruby-string">'past'</span>
].<span class="ruby-identifier">sort</span>

<span class="ruby-identifier">comp</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">LIST</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape(s)}/</span>) }

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">comp</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">'&gt; '</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Completion+For+Directory+Contents">Completion For Directory Contents</h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'readline'</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
  <span class="ruby-constant">Dir</span>[<span class="ruby-identifier">str</span><span class="ruby-operator">+</span><span class="ruby-string">'*'</span>].<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape(str)}/</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">'&gt; '</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span>
</pre>

<h1 id="label-Autocomplete+strategies">Autocomplete strategies</h1>

<p>When working with auto-complete there are some strategies that work well.
To get some ideas you can take a look at the <a
href="http://svn.ruby-lang.org/repos/ruby/trunk/lib/irb/completion.rb">completion.rb</a>
file for irb.</p>

<p>The common strategy is to take a list of possible completions and filter it
down to those completions that start with the user input.  In the above
examples Enumerator.grep is used.  The input is escaped to prevent Regexp
special characters from interfering with the matching.</p>

<p>It may also be helpful to use the Abbrev library to generate completions.</p>

<p>Raises ArgumentError if <code>proc</code> does not respond to the call
method.</p>

<p>Raises SecurityError if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


541
542
543
544
545
546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 541</span>

static VALUE
readline_s_set_completion_proc(VALUE self, VALUE proc)
{
    rb_secure(4);
    if (!NIL_P(proc) &amp;&amp; !rb_respond_to(proc, rb_intern(&quot;call&quot;)))
	rb_raise(rb_eArgError, &quot;argument must respond to `call'&quot;);
    return rb_ivar_set(mReadline, completion_proc, proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="emacs_editing_mode-class_method">
  
    + (<tt>nil</tt>) <strong>emacs_editing_mode</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies Emacs editing mode. The default is this mode. See the manual of
GNU Readline for details of Emacs editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


834
835
836
837
838
839
840</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 834</span>

static VALUE
readline_s_emacs_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_emacs_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="emacs_editing_mode?-class_method">
  
    + (<tt>Boolean</tt>) <strong>emacs_editing_mode?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if emacs mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


856
857
858
859
860
861</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 856</span>

static VALUE
readline_s_emacs_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 1 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filename_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>filename_quote_characters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1245
1246
1247
1248
1249
1250
1251
1252</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1245</span>

static VALUE
readline_s_get_filename_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_filename_quote_characters == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_filename_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filename_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>filename_quote_characters=</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename. The default is nil.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1209</span>

static VALUE
readline_s_set_filename_quote_characters(VALUE self, VALUE str)
{
    static char *filename_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (filename_quote_characters == NULL) {
	filename_quote_characters =
	    ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
	REALLOC_N(filename_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(filename_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    filename_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_filename_quote_characters = filename_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_screen_size-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>get_screen_size</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the terminal’s rows and columns.</p>

<p>See GNU Readline’s rl_get_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


761
762
763
764
765
766
767
768
769
770
771
772
773</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 761</span>

static VALUE
readline_s_get_screen_size(VALUE self)
{
    int rows, columns;
    VALUE res;

    rb_secure(4);
    rl_get_screen_size(&amp;rows, &amp;columns);
    res = rb_ary_new();
    rb_ary_push(res, INT2NUM(rows));
    rb_ary_push(res, INT2NUM(columns));
    return res;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="input=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>input=</strong>(input) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a File object <code>input</code> that is input stream for
Readline.readline method.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


435
436
437
438
439
440
441
442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 435</span>

static VALUE
readline_s_set_input(VALUE self, VALUE input)
{
    rb_io_t *ifp;

    rb_secure(4);
    Check_Type(input, T_FILE);
    GetOpenFile(input, ifp);
    rl_instream = rb_io_stdio_file(ifp);
#ifdef HAVE_RL_GETC_FUNCTION
    readline_instream = input;
#endif
    return input;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_buffer-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>line_buffer</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the full line that is being edited. This is useful from within the
complete_proc for determining the context of the completion request.</p>

<p>The length of <code>Readline.line_buffer</code> and GNU Readline’s rl_end
are same.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


615
616
617
618
619
620
621
622</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 615</span>

static VALUE
readline_s_get_line_buffer(VALUE self)
{
    rb_secure(4);
    if (rl_line_buffer == NULL)
	return Qnil;
    return rb_locale_str_new_cstr(rl_line_buffer);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="output=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>output=</strong>(output) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a File object <code>output</code> that is output stream for
Readline.readline method.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


459
460
461
462
463
464
465
466
467
468
469</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 459</span>

static VALUE
readline_s_set_output(VALUE self, VALUE output)
{
    rb_io_t *ofp;

    rb_secure(4);
    Check_Type(output, T_FILE);
    GetOpenFile(output, ofp);
    rl_outstream = rb_io_stdio_file(ofp);
    return output;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="point-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>point</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>

<p>The index in <code>Readline.line_buffer</code> which matches the start of
input-string passed to completion_proc is computed by subtracting the
length of input-string from <code>Readline.point</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_length'>length</span> <span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_input'>input</span><span class='op'>-</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_point'>point</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


641
642
643
644
645
646</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 641</span>

static VALUE
readline_s_get_point(VALUE self)
{
    rb_secure(4);
    return INT2NUM(rl_point);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readline-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>readline</strong>(prompt = &quot;&quot;, add_hist = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Shows the <code>prompt</code> and reads the inputted line with line
editing. The inputted line is added to the history if <code>add_hist</code>
is true.</p>

<p>Returns nil when the inputted line is empty and user inputs EOF (Presses ^D
on UNIX).</p>

<p>Raises IOError exception if below conditions are satisfied.</p>
<ol><li>
<p>stdin is not tty.</p>
</li><li>
<p>stdin was closed. (errno is EBADF after called isatty(2).)</p>
</li></ol>

<p>This method supports thread. Switchs the thread context when waits
inputting line.</p>

<p>Supports line edit when inputs line. Provides VI and Emacs editing mode.
Default is Emacs editing mode.</p>

<p>NOTE: Terminates ruby interpreter and does not return the terminal status
after user pressed ‘^C’ when wait inputting line. Give 3 examples that
avoid it.</p>
<ul><li>
<p>Catches the Interrupt exception by pressed ^C after returns terminal
status:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">stty_save</span> = <span class="ruby-value">%xstty -g`</span>.<span class="ruby-identifier">chomp</span>
<span class="ruby-keyword">begin</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
      <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Interrupt</span>
      <span class="ruby-identifier">system</span>(<span class="ruby-string">&quot;stty&quot;</span>, <span class="ruby-identifier">stty_save</span>)
      <span class="ruby-identifier">exit</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
</li><li>
<p>Catches the INT signal by pressed ^C after returns terminal status:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">stty_save</span> = <span class="ruby-value">%xstty -g`</span>.<span class="ruby-identifier">chomp</span>
<span class="ruby-identifier">trap</span>(<span class="ruby-string">&quot;INT&quot;</span>) { <span class="ruby-identifier">system</span> <span class="ruby-string">&quot;stty&quot;</span>, <span class="ruby-identifier">stty_save</span>; <span class="ruby-identifier">exit</span> }

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
<span class="ruby-keyword">end</span>
</pre>
</li><li>
<p>Ignores pressing ^C:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">trap</span>(<span class="ruby-string">&quot;INT&quot;</span>, <span class="ruby-string">&quot;SIG_IGN&quot;</span>)

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
<span class="ruby-keyword">end</span>
</pre>
</li></ul>

<p>Can make as follows with Readline::HISTORY constant. It does not record to
the history if the inputted line is empty or the same it as last one.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># p Readline::HISTORY.to_a</span>
  <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/^\s*$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">buf</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>[<span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">buf</span>
      <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">pop</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">IndexError</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># p Readline::HISTORY.to_a</span>
  <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;-&gt; &quot;</span>, <span class="ruby-identifier">buf</span>, <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 360</span>

static VALUE
readline_readline(int argc, VALUE *argv, VALUE self)
{
    VALUE tmp, add_hist, result;
    char *prompt = NULL;
    char *buff;
    int status;

    rb_secure(4);
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;tmp, &amp;add_hist) &gt; 0) {
	OutputStringValue(tmp);
#if USE_INSERT_IGNORE_ESCAPE
	tmp = insert_ignore_escape(self, tmp);
	rb_str_locktmp(tmp);
#endif
	prompt = RSTRING_PTR(tmp);
    }

    if (!isatty(fileno(rl_instream)) &amp;&amp; errno == EBADF) rb_raise(rb_eIOError, &quot;closed stdin&quot;);
    if (rl_outstream) {
	struct stat stbuf;
	int fd = fileno(rl_outstream);
	if (fd &lt; 0 || fstat(fd, &amp;stbuf) != 0) {
	    rb_raise(rb_eIOError, &quot;closed stdout&quot;);
	}
    }

#ifdef _WIN32
    rl_prep_terminal(1);
#endif
    buff = (char*)rb_protect(readline_get, (VALUE)prompt, &amp;status);
#if USE_INSERT_IGNORE_ESCAPE
    if (prompt) {
	rb_str_unlocktmp(tmp);
    }
#endif
    if (status) {
#if defined HAVE_RL_CLEANUP_AFTER_SIGNAL
        /* restore terminal mode and signal handler*/
#if defined HAVE_RL_FREE_LINE_STATE
        rl_free_line_state();
#endif
        rl_cleanup_after_signal();
#elif defined HAVE_RL_DEPREP_TERM_FUNCTION
        /* restore terminal mode */
	if (rl_deprep_term_function != NULL) /* NULL in libedit. [ruby-dev:29116] */
	    (*rl_deprep_term_function)();
	else
#else
        rl_deprep_terminal();
#endif
        rb_jump_tag(status);
    }

    if (RTEST(add_hist) &amp;&amp; buff) {
	add_history(buff);
    }
    if (buff) {
	result = rb_locale_str_new_cstr(buff);
    }
    else
	result = Qnil;
    if (buff) free(buff);
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh_line-class_method">
  
    + (<tt>nil</tt>) <strong>refresh_line</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clear the current input line.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1266
1267
1268
1269
1270
1271
1272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1266</span>

static VALUE
readline_s_refresh_line(VALUE self)
{
    rb_secure(4);
    rl_refresh_line(0, 0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_screen_size-class_method">
  
    + (<tt>self</tt>) <strong>set_screen_size</strong>(rows, columns) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set terminal size to <code>rows</code> and <code>columns</code>.</p>

<p>See GNU Readline’s rl_set_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


737
738
739
740
741
742
743</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 737</span>

static VALUE
readline_s_set_screen_size(VALUE self, VALUE rows, VALUE columns)
{
    rb_secure(4);
    rl_set_screen_size(NUM2INT(rows), NUM2INT(columns));
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vi_editing_mode-class_method">
  
    + (<tt>nil</tt>) <strong>vi_editing_mode</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies VI editing mode. See the manual of GNU Readline for details of VI
editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


790
791
792
793
794
795
796</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 790</span>

static VALUE
readline_s_vi_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_vi_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vi_editing_mode?-class_method">
  
    + (<tt>Boolean</tt>) <strong>vi_editing_mode?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if vi mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


812
813
814
815
816
817</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 812</span>

static VALUE
readline_s_vi_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 0 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:16:19 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>