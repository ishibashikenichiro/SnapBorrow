<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: StringScanner
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!StringScanner.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">StringScanner</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: StringScanner
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">StringScanner</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/strscan/strscan.c<span class="defines">,<br />
  ext/strscan/strscan.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>StringScanner provides for lexical scanning operations on a String.  Here
is an example of its usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>This is an example string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; false
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;This&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;is&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; false
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;an&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;example&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;string&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; true
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil</span></code></pre>

<p>Scanning a string means remembering the position of a <em>scan
pointer</em>, which is just an index.  The point of scanning is to move
forward a bit at a time, so matches are sought after the scan pointer;
usually immediately after it.</p>

<p>Given the string “test string”, here are the pertinent scan pointer
positions:</p>

<pre class="code ruby"><code class="ruby">  t e s t   s t r i n g
0 1 2 ...             1
                      0</code></pre>

<p>When you #scan for a pattern (a regular expression), the match must occur
at the character after the scan pointer.  If you use #scan_until, then the
match can occur anywhere after the scan pointer.  In both cases, the scan
pointer moves <em>just beyond</em> the last character of the match, ready
to scan again from the next character onwards.  This is demonstrated by the
example above.</p>

<h2 id="label-Method+Categories">Method Categories</h2>

<p>There are other methods besides the plain scanners.  You can look ahead in
the string without actually scanning.  You can access the most recent
match. You can modify the string being scanned, reset or terminate the
scanner, find out or change the position of the scan pointer, skip ahead,
and so on.</p>

<h3 id="label-Advancing+the+Scan+Pointer">Advancing the Scan Pointer</h3>
<ul><li>
<p>#getch</p>
</li><li>
<p>#get_byte</p>
</li><li>
<p>#scan</p>
</li><li>
<p>#scan_until</p>
</li><li>
<p>#skip</p>
</li><li>
<p>#skip_until</p>
</li></ul>

<h3 id="label-Looking+Ahead">Looking Ahead</h3>
<ul><li>
<p>#check</p>
</li><li>
<p>#check_until</p>
</li><li>
<p>#exist?</p>
</li><li>
<p>#match?</p>
</li><li>
<p>#peek</p>
</li></ul>

<h3 id="label-Finding+Where+we+Are">Finding Where we Are</h3>
<ul><li>
<p>#beginning_of_line? (#bol?)</p>
</li><li>
<p>#eos?</p>
</li><li>
<p>#rest?</p>
</li><li>
<p>#rest_size</p>
</li><li>
<p>#pos</p>
</li></ul>

<h3 id="label-Setting+Where+we+Are">Setting Where we Are</h3>
<ul><li>
<p>#reset</p>
</li><li>
<p>#terminate</p>
</li><li>
<p>#pos=</p>
</li></ul>

<h3 id="label-Match+Data">Match Data</h3>
<ul><li>
<p>#matched</p>
</li><li>
<p>#matched?</p>
</li><li>
<p>#matched_size</p>
</li><li><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</li><li>
<p>#pre_match</p>
</li><li>
<p>#post_match</p>
</li></ul>

<h3 id="label-Miscellaneous">Miscellaneous</h3>
<ul><li>
<p>&lt;&lt;</p>
</li><li>
<p>#concat</p>
</li><li>
<p>#string</p>
</li><li>
<p>#string=</p>
</li><li>
<p>#unscan</p>
</li></ul>

<p>There are aliases to several of the methods.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="StringScanner/Error.html" title="StringScanner::Error (class)">Error</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#must_C_version-class_method" title="must_C_version (class method)">+ (Object) <strong>must_C_version</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is defined for backward compatibility.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3C-instance_method" title="#&lt;&lt; (instance method)">- (Object) <strong>&lt;&lt;</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Appends <code>str</code> to the string being scanned.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the n-th subgroup in the most recent match.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#beginning_of_line%3F-instance_method" title="#beginning_of_line? (instance method)">- (Boolean) <strong>beginning_of_line?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> iff the scan pointer is at the beginning of the
line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check-instance_method" title="#check (instance method)">- (Object) <strong>check</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This returns the value that #scan would return, without advancing the scan
pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_until-instance_method" title="#check_until (instance method)">- (Object) <strong>check_until</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This returns the value that #scan_until would return, without advancing the
scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">- (Object) <strong>clear</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to #terminate.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#concat-instance_method" title="#concat (instance method)">- (Object) <strong>concat</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Appends <code>str</code> to the string being scanned.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to #eos?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eos%3F-instance_method" title="#eos? (instance method)">- (Boolean) <strong>eos?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if the scan pointer is at the end of the string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exist%3F-instance_method" title="#exist? (instance method)">- (Boolean) <strong>exist?</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks <em>ahead</em> to see if the <code>pattern</code> exists
<em>anywhere</em> in the string, without advancing the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_byte-instance_method" title="#get_byte (instance method)">- (Object) <strong>get_byte</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scans one byte and returns it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getbyte-instance_method" title="#getbyte (instance method)">- (Object) <strong>getbyte</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to #get_byte.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getch-instance_method" title="#getch (instance method)">- (Object) <strong>getch</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scans one character and returns it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string that represents the StringScanner object, showing: - the
current position - the size of the string - the characters surrounding the
scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match%3F-instance_method" title="#match? (instance method)">- (Boolean) <strong>match?</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#matched-instance_method" title="#matched (instance method)">- (Object) <strong>matched</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the last matched string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#matched%3F-instance_method" title="#matched? (instance method)">- (Boolean) <strong>matched?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> iff the last match was successful.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#matched_size-instance_method" title="#matched_size (instance method)">- (Object) <strong>matched_size</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the size of the most recent match (see #matched), or
<code>nil</code> if there was no recent match.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#peek-instance_method" title="#peek (instance method)">- (Object) <strong>peek</strong>(len) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts a string corresponding to <a href="http://pos,len">string</a>,
without advancing the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#peep-instance_method" title="#peep (instance method)">- (Object) <strong>peep</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to #peek.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pointer-instance_method" title="#pointer (instance method)">- (Object) <strong>pointer</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the byte position of the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pointer%3D-instance_method" title="#pos= (instance method)">- (Object) <strong>pos=</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the byte position of the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos-instance_method" title="#pos (instance method)">- (Object) <strong>pos</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the byte position of the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos%3D-instance_method" title="#pos= (instance method)">- (Object) <strong>pos=</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the byte position of the scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_match-instance_method" title="#post_match (instance method)">- (Object) <strong>post_match</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the post-match (in the regular expression sense) of the last scan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pre_match-instance_method" title="#pre_match (instance method)">- (Object) <strong>pre_match</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the pre-match (in the regular expression sense) of the last scan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset-instance_method" title="#reset (instance method)">- (Object) <strong>reset</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reset the scan pointer (index 0) and clear matching data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rest-instance_method" title="#rest (instance method)">- (Object) <strong>rest</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the “rest” of the string (i.e. everything after the scan pointer).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rest%3F-instance_method" title="#rest? (instance method)">- (Boolean) <strong>rest?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true iff there is more data in the string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rest_size-instance_method" title="#rest_size (instance method)">- (Object) <strong>rest_size</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>s.rest_size is equivalent to s.rest.size.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restsize-instance_method" title="#restsize (instance method)">- (Object) <strong>restsize</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>s.restsize is equivalent to s.rest_size.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scan-instance_method" title="#scan (instance method)">- (String) <strong>scan</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tries to match with <code>pattern</code> at the current position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scan_full-instance_method" title="#scan_full (instance method)">- (Object) <strong>scan_full</strong>(pattern, advance_pointer_p, return_string_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scan_until-instance_method" title="#scan_until (instance method)">- (Object) <strong>scan_until</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search_full-instance_method" title="#search_full (instance method)">- (Object) <strong>search_full</strong>(pattern, advance_pointer_p, return_string_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip-instance_method" title="#skip (instance method)">- (Object) <strong>skip</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attempts to skip over the given <code>pattern</code> beginning with the
scan pointer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip_until-instance_method" title="#skip_until (instance method)">- (Object) <strong>skip_until</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Advances the scan pointer until <code>pattern</code> is matched and
consumed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#string-instance_method" title="#string (instance method)">- (Object) <strong>string</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the string being scanned.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#string%3D-instance_method" title="#string= (instance method)">- (Object) <strong>string=</strong>(str) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Changes the string being scanned to <code>str</code> and resets the
scanner.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#terminate-instance_method" title="#terminate (instance method)">- (Object) <strong>terminate</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the scan pointer to the end of the string and clear matching data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unscan-instance_method" title="#unscan (instance method)">- (Object) <strong>unscan</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the scan pointer to the previous position.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="must_C_version-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>must_C_version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is defined for backward compatibility.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 250</span>

static VALUE
strscan_s_mustc(VALUE self)
{
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="<<-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>concat</strong>(str) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;&lt;</strong>(str) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Appends <code>str</code> to the string being scanned. This method does not
affect scan pointer.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Fri </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> +1000 GMT</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_string'>string</span>            <span class='comment'># -&gt; &quot;Fri Dec 12 1975 14:39 +1000 GMT&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Dec</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Dec&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347
348
349
350
351
352
353</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 344</span>

static VALUE
strscan_concat(VALUE self, VALUE str)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    StringValue(str);
    rb_str_append(p-&gt;str, str);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the n-th subgroup in the most recent match.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\w+) (\w+) (\d+) </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Dec&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>                       <span class='comment'># -&gt; &quot;1975 14:39&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>                        <span class='comment'># -&gt; &quot;&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 946</span>

static VALUE
strscan_aref(VALUE self, VALUE idx)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p))        return Qnil;

    i = NUM2LONG(idx);
    if (i &lt; 0)
        i += p-&gt;regs.num_regs;
    if (i &lt; 0)                 return Qnil;
    if (i &gt;= p-&gt;regs.num_regs) return Qnil;
    if (p-&gt;regs.beg[i] == -1)  return Qnil;

    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[i],
                            p-&gt;prev + p-&gt;regs.end[i]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="beginning_of_line?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>beginning_of_line?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> iff the scan pointer is at the beginning of the
line.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;test\ntest\n&quot;</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">bol?</span>           <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/te/</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">bol?</span>           <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/st\n/</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">bol?</span>           <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">terminate</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">bol?</span>           <span class="ruby-comment"># =&gt; true</span>
</pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


818
819
820
821
822
823
824
825
826
827</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 818</span>

static VALUE
strscan_bol_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (CURPTR(p) &gt; S_PEND(p)) return Qnil;
    if (p-&gt;curr == 0) return Qtrue;
    return (*(CURPTR(p) - 1) == '\n') ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>check</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This returns the value that #scan would return, without advancing the scan
pointer.  The match register is affected, though.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Fri</span><span class='regexp_end'>/</span></span>               <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>                       <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>                <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; nil</span></code></pre>

<p>Mnemonic: it “checks” to see whether a #scan will return a value.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


539
540
541
542
543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 539</span>

static VALUE
strscan_check(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 1, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_until-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>check_until</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This returns the value that #scan_until would return, without advancing the
scan pointer.  The match register is affected, though.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check_until'>check_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>          <span class='comment'># -&gt; &quot;Fri Dec 12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>                       <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; 12</span></code></pre>

<p>Mnemonic: it “checks” to see whether a #scan_until will return a value.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 633</span>

static VALUE
strscan_check_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 1, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to #terminate. This method is obsolete; use #terminate instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294
295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 292</span>

static VALUE
strscan_clear(VALUE self)
{
    rb_warning(&quot;StringScanner#clear is obsolete; use #terminate instead&quot;);
    return strscan_terminate(self);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="concat-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>concat</strong>(str) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;&lt;</strong>(str) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Appends <code>str</code> to the string being scanned. This method does not
affect scan pointer.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Fri </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> +1000 GMT</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_string'>string</span>            <span class='comment'># -&gt; &quot;Fri Dec 12 1975 14:39 +1000 GMT&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Dec</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Dec&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347
348
349
350
351
352
353</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 344</span>

static VALUE
strscan_concat(VALUE self, VALUE str)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    StringValue(str);
    rb_str_append(p-&gt;str, str);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to #eos?. This method is obsolete, use #eos? instead.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


852
853
854
855
856
857</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 852</span>

static VALUE
strscan_empty_p(VALUE self)
{
    rb_warning(&quot;StringScanner#empty? is obsolete; use #eos? instead&quot;);
    return strscan_eos_p(self);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eos?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>eos?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the scan pointer is at the end of the string.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'test string'</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">eos?</span>          <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/test/</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">eos?</span>          <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">terminate</span>
<span class="ruby-identifier">p</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">eos?</span>          <span class="ruby-comment"># =&gt; true</span>
</pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


839
840
841
842
843
844
845
846</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 839</span>

static VALUE
strscan_eos_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return EOS_P(p) ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exist?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>exist?</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks <em>ahead</em> to see if the <code>pattern</code> exists
<em>anywhere</em> in the string, without advancing the scan pointer.  This
predicates whether a #scan_until will return a value.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; 3
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>test</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; 2
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>e</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


592
593
594
595
596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 592</span>

static VALUE
strscan_exist_p(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 0, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_byte-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_byte</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scans one byte and returns it. This method is not multibyte character
sensitive. See also: #getch.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'ab'</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; &quot;a&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; &quot;b&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">$KCODE</span> = <span class="ruby-string">'EUC'</span>
<span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\2244\2242&quot;</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; &quot;\244&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; &quot;\242&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">get_byte</span>         <span class="ruby-comment"># =&gt; nil</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 714</span>

static VALUE
strscan_get_byte(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    CLEAR_MATCH_STATUS(p);
    if (EOS_P(p))
        return Qnil;

    p-&gt;prev = p-&gt;curr;
    p-&gt;curr++;
    MATCHED(p);
    adjust_registers_to_matched(p);
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getbyte-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>getbyte</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to #get_byte. This method is obsolete; use #get_byte instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


736
737
738
739
740
741</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 736</span>

static VALUE
strscan_getbyte(VALUE self)
{
    rb_warning(&quot;StringScanner#getbyte is obsolete; use #get_byte instead&quot;);
    return strscan_get_byte(self);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getch-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>getch</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scans one character and returns it. This method is multibyte character
sensitive.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;ab&quot;</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">getch</span>           <span class="ruby-comment"># =&gt; &quot;a&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">getch</span>           <span class="ruby-comment"># =&gt; &quot;b&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">getch</span>           <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">$KCODE</span> = <span class="ruby-string">'EUC'</span>
<span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\2244\2242&quot;</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">getch</span>           <span class="ruby-comment"># =&gt; &quot;\244\242&quot;   # Japanese hira-kana &quot;A&quot; in EUC-JP</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">getch</span>           <span class="ruby-comment"># =&gt; nil</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 675</span>

static VALUE
strscan_getch(VALUE self)
{
    struct strscanner *p;
    long len;

    GET_SCANNER(self, p);
    CLEAR_MATCH_STATUS(p);
    if (EOS_P(p))
        return Qnil;

    len = rb_enc_mbclen(CURPTR(p), S_PEND(p), rb_enc_get(p-&gt;str));
    if (p-&gt;curr + len &gt; S_LEN(p)) {
        len = S_LEN(p) - p-&gt;curr;
    }
    p-&gt;prev = p-&gt;curr;
    p-&gt;curr += len;
    MATCHED(p);
    adjust_registers_to_matched(p);
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a string that represents the StringScanner object, showing:</p>
<ul><li>
<p>the current position</p>
</li><li>
<p>the size of the string</p>
</li><li>
<p>the characters surrounding the scan pointer</p>

<p>s = StringScanner.new(“Fri Dec 12 1975 14:39”) s.inspect            # -&gt;
‘#&lt;StringScanner 0/21 @ “Fri D…”&gt;’ s.scan_until /12/    # -&gt; “Fri
Dec 12” s.inspect            # -&gt; ‘#&lt;StringScanner 10/21 “…ec 12” @ “
1975…”&gt;’</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 1062</span>

static VALUE
strscan_inspect(VALUE self)
{
    struct strscanner *p;
    char buf[BUFSIZE];
    long len;
    VALUE a, b;

    Data_Get_Struct(self, struct strscanner, p);
    if (NIL_P(p-&gt;str)) {
        len = snprintf(buf, BUFSIZE, &quot;#&lt;%s (uninitialized)&gt;&quot;,
                       rb_class2name(CLASS_OF(self)));
        return infect(rb_str_new(buf, len), p);
    }
    if (EOS_P(p)) {
        len = snprintf(buf, BUFSIZE, &quot;#&lt;%s fin&gt;&quot;,
                       rb_class2name(CLASS_OF(self)));
        return infect(rb_str_new(buf, len), p);
    }
    if (p-&gt;curr == 0) {
        b = inspect2(p);
        len = snprintf(buf, BUFSIZE, &quot;#&lt;%s %ld/%ld @ %s&gt;&quot;,
                       rb_class2name(CLASS_OF(self)),
                       p-&gt;curr, S_LEN(p),
                       RSTRING_PTR(b));
        return infect(rb_str_new(buf, len), p);
    }
    a = inspect1(p);
    b = inspect2(p);
    len = snprintf(buf, BUFSIZE, &quot;#&lt;%s %ld/%ld %s @ %s&gt;&quot;,
                   rb_class2name(CLASS_OF(self)),
                   p-&gt;curr, S_LEN(p),
                   RSTRING_PTR(a),
                   RSTRING_PTR(b));
    return infect(rb_str_new(buf, len), p);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>match?</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer. Returns the length of the match, or <code>nil</code>.  The
scan pointer is not advanced.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 495</span>

static VALUE
strscan_match_p(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 0, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="matched-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>matched</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the last matched string.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>           <span class='comment'># -&gt; &quot;test&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


901
902
903
904
905
906
907
908
909
910</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 901</span>

static VALUE
strscan_matched(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="matched?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>matched?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> iff the last match was successful.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'test string'</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/\w+/</span>)     <span class="ruby-comment"># =&gt; 4</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">matched?</span>          <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/\d+/</span>)     <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">matched?</span>          <span class="ruby-comment"># =&gt; false</span>
</pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


885
886
887
888
889
890
891
892</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 885</span>

static VALUE
strscan_matched_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return MATCHED_P(p) ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="matched_size-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>matched_size</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the size of the most recent match (see #matched), or
<code>nil</code> if there was no recent match.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched_size'>matched_size</span>          <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d+</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched_size'>matched_size</span>          <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


922
923
924
925
926
927
928
929
930</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 922</span>

static VALUE
strscan_matched_size(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return INT2NUM(p-&gt;regs.end[0] - p-&gt;regs.beg[0]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="peek-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>peek</strong>(len) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extracts a string corresponding to <code>string[pos,len]</code>, without
advancing the scan pointer.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'test string'</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">peek</span>(<span class="ruby-value">7</span>)          <span class="ruby-comment"># =&gt; &quot;test st&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">peek</span>(<span class="ruby-value">7</span>)          <span class="ruby-comment"># =&gt; &quot;test st&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 754</span>

static VALUE
strscan_peek(VALUE self, VALUE vlen)
{
    struct strscanner *p;
    long len;

    GET_SCANNER(self, p);

    len = NUM2LONG(vlen);
    if (EOS_P(p))
        return infect(str_new(p, &quot;&quot;, 0), p);

    if (p-&gt;curr + len &gt; S_LEN(p))
        len = S_LEN(p) - p-&gt;curr;
    return extract_beg_len(p, p-&gt;curr, len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="peep-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>peep</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to #peek. This method is obsolete; use #peek instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


775
776
777
778
779
780</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 775</span>

static VALUE
strscan_peep(VALUE self, VALUE vlen)
{
    rb_warning(&quot;StringScanner#peep is obsolete; use #peek instead&quot;);
    return strscan_peek(self, vlen);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pointer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pointer</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the byte position of the scan pointer.  In the ‘reset’ position,
this value is zero.  In the ‘terminated’ position (i.e. the string is
exhausted), this value is the bytesize of the string.</p>

<p>In short, it’s a 0-based index into the string.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>str</span><span class='regexp_end'>/</span></span>  <span class='comment'># -&gt; &quot;test str&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 8
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span>         <span class='comment'># -&gt; #&lt;StringScanner fin&gt;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 11</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 369</span>

static VALUE
strscan_get_pos(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return INT2FIX(p-&gt;curr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pointer=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pos=</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the byte position of the scan pointer.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='int'>7</span>            <span class='comment'># -&gt; 7
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>               <span class='comment'># -&gt; &quot;ring&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392
393
394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 387</span>

static VALUE
strscan_set_pos(VALUE self, VALUE v)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    i = NUM2INT(v);
    if (i &lt; 0) i += S_LEN(p);
    if (i &lt; 0) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    if (i &gt; S_LEN(p)) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    p-&gt;curr = i;
    return INT2NUM(i);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pos-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pos</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the byte position of the scan pointer.  In the ‘reset’ position,
this value is zero.  In the ‘terminated’ position (i.e. the string is
exhausted), this value is the bytesize of the string.</p>

<p>In short, it’s a 0-based index into the string.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>str</span><span class='regexp_end'>/</span></span>  <span class='comment'># -&gt; &quot;test str&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 8
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span>         <span class='comment'># -&gt; #&lt;StringScanner fin&gt;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 11</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 369</span>

static VALUE
strscan_get_pos(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return INT2FIX(p-&gt;curr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pos=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pos=</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the byte position of the scan pointer.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='int'>7</span>            <span class='comment'># -&gt; 7
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>               <span class='comment'># -&gt; &quot;ring&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392
393
394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 387</span>

static VALUE
strscan_set_pos(VALUE self, VALUE v)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    i = NUM2INT(v);
    if (i &lt; 0) i += S_LEN(p);
    if (i &lt; 0) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    if (i &gt; S_LEN(p)) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    p-&gt;curr = i;
    return INT2NUM(i);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_match-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>post_match</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the <strong><em>post</strong>-match</em> (in the regular expression
sense) of the last scan.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>             <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>            <span class='comment'># -&gt; &quot;string&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


994
995
996
997
998
999
1000
1001
1002</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 994</span>

static VALUE
strscan_post_match(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, p-&gt;prev + p-&gt;regs.end[0], S_LEN(p));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pre_match-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pre_match</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the <strong><em>pre</strong>-match</em> (in the regular expression
sense) of the last scan.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>             <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>            <span class='comment'># -&gt; &quot;string&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


975
976
977
978
979
980
981
982
983</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 975</span>

static VALUE
strscan_pre_match(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, 0, p-&gt;prev + p-&gt;regs.beg[0]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reset</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reset the scan pointer (index 0) and clear matching data.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261
262
263
264
265
266
267
268</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 259</span>

static VALUE
strscan_reset(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    p-&gt;curr = 0;
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rest-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rest</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the “rest” of the string (i.e. everything after the scan pointer).
If there is no more data (eos? = true), it returns
<code>&quot;&quot;</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 1008</span>

static VALUE
strscan_rest(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (EOS_P(p)) {
        return infect(str_new(p, &quot;&quot;, 0), p);
    }
    return extract_range(p, p-&gt;curr, S_LEN(p));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rest?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>rest?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true iff there is more data in the string.  See #eos?. This method
is obsolete; use #eos? instead.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>              <span class='comment'># These two
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_rest?'>rest?</span>             <span class='comment'># are opposites.</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


867
868
869
870
871
872
873
874</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 867</span>

static VALUE
strscan_rest_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return EOS_P(p) ? Qfalse : Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rest_size-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rest_size</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><code>s.rest_size</code> is equivalent to <code>s.rest.size</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 1023</span>

static VALUE
strscan_rest_size(VALUE self)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    if (EOS_P(p)) {
        return INT2FIX(0);
    }
    i = S_LEN(p) - p-&gt;curr;
    return INT2FIX(i);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restsize-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>restsize</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><code>s.restsize</code> is equivalent to <code>s.rest_size</code>. This
method is obsolete; use #rest_size instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1041
1042
1043
1044
1045
1046</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 1041</span>

static VALUE
strscan_restsize(VALUE self)
{
    rb_warning(&quot;StringScanner#restsize is obsolete; use #rest_size instead&quot;);
    return strscan_rest_size(self);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scan-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>scan</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tries to match with <code>pattern</code> at the current position. If
there’s a match, the scanner advances the “scan pointer” and returns the
matched string. Otherwise, the scanner returns <code>nil</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot;string&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480
481
482</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 478</span>

static VALUE
strscan_scan(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 1, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scan_full-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>scan_full</strong>(pattern, advance_pointer_p, return_string_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer. Advances the scan pointer if <code>advance_pointer_p</code>
is true. Returns the matched string if <code>return_string_p</code> is
true. The match register is affected.</p>

<p>“full” means “#scan with full parameters”.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


555
556
557
558
559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 555</span>

static VALUE
strscan_scan_full(VALUE self, VALUE re, VALUE s, VALUE f)
{
    return strscan_do_scan(self, re, RTEST(s), RTEST(f), 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scan_until-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>scan_until</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scans the string <em>until</em> the <code>pattern</code> is matched. 
Returns the substring up to and including the end of the match, advancing
the scan pointer to that location. If there is no match, <code>nil</code>
is returned.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>1</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'># -&gt; &quot;Fri Dec 1&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>              <span class='comment'># -&gt; &quot;Fri Dec &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>XYZ</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


573
574
575
576
577</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 573</span>

static VALUE
strscan_scan_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 1, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search_full-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>search_full</strong>(pattern, advance_pointer_p, return_string_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.
Advances the scan pointer if <code>advance_pointer_p</code>, otherwise not.
Returns the matched string if <code>return_string_p</code> is true,
otherwise returns the number of bytes advanced. This method does affect the
match register.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


648
649
650
651
652</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 648</span>

static VALUE
strscan_search_full(VALUE self, VALUE re, VALUE s, VALUE f)
{
    return strscan_do_scan(self, re, RTEST(s), RTEST(f), 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>skip</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Attempts to skip over the given <code>pattern</code> beginning with the
scan pointer. If it matches, the scan pointer is advanced to the end of the
match, and the length of the match is returned.  Otherwise,
<code>nil</code> is returned.</p>

<p>It’s similar to #scan, but without returning the matched string.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test string</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 6
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; nil</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


518
519
520
521
522</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 518</span>

static VALUE
strscan_skip(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 0, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip_until-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>skip_until</strong>(pattern) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Advances the scan pointer until <code>pattern</code> is matched and
consumed.  Returns the number of bytes advanced, or <code>nil</code> if no
match was found.</p>

<p>Look ahead to match <code>pattern</code>, and advance the scan pointer to
the <em>end</em> of the match.  Return the number of characters advanced,
or <code>nil</code> if the match was unsuccessful.</p>

<p>It’s similar to #scan_until, but without returning the intervening string.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip_until'>skip_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; 10
</span><span class='id identifier rubyid_s'>s</span>                           <span class='comment'>#</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


614
615
616
617
618</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 614</span>

static VALUE
strscan_skip_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 0, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="string-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>string</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the string being scanned.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304
305
306
307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 302</span>

static VALUE
strscan_get_string(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return p-&gt;str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="string=-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>string=</strong>(str) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Changes the string being scanned to <code>str</code> and resets the
scanner. Returns <code>str</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321
322
323
324
325
326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 317</span>

static VALUE
strscan_set_string(VALUE self, VALUE str)
{
    struct strscanner *p;

    Data_Get_Struct(self, struct strscanner, p);
    StringValue(str);
    p-&gt;str = str;
    p-&gt;curr = 0;
    CLEAR_MATCH_STATUS(p);
    return str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="terminate-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>terminate</strong> </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear</strong> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the scan pointer to the end of the string and clear matching data.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 277</span>

static VALUE
strscan_terminate(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    p-&gt;curr = S_LEN(p);
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unscan-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>unscan</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the scan pointer to the previous position.  Only one previous position
is remembered, and it changes with each scanning operation.</p>

<pre class="ruby"><span class="ruby-identifier">s</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'test string'</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/\w+/</span>)        <span class="ruby-comment"># =&gt; &quot;test&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">unscan</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/../</span>)         <span class="ruby-comment"># =&gt; &quot;te&quot;</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/\d/</span>)         <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">unscan</span>             <span class="ruby-comment"># ScanError: unscan failed: previous match record not exist</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


793
794
795
796
797
798
799
800
801
802
803
804</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/strscan/strscan.c', line 793</span>

static VALUE
strscan_unscan(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p))
        rb_raise(ScanError, &quot;unscan failed: previous match record not exist&quot;);
    p-&gt;curr = p-&gt;prev;
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:17:01 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>