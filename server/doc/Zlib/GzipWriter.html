<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Zlib::GzipWriter
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Zlib/GzipWriter.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (G)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Zlib.html" title="Zlib (module)">Zlib</a></span></span>
     &raquo; 
    <span class="title">GzipWriter</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Zlib::GzipWriter
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="GzipFile.html" title="Zlib::GzipFile (class)">GzipFile</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="GzipFile.html" title="Zlib::GzipFile (class)">GzipFile</a></span></li>
          
            <li class="next">Zlib::GzipWriter</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/zlib/zlib.c<span class="defines">,<br />
  ext/zlib/zlib.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Zlib::GzipWriter is a class for writing gzipped files.  GzipWriter should
be used with an instance of IO, or IO-like, object.</p>

<p>Following two example generate the same result.</p>

<pre class="ruby"><span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipWriter</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">'hoge.gz'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">gz</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">'jugemu jugemu gokou no surikire...'</span>
<span class="ruby-keyword">end</span>

<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">'hoge.gz'</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">gz</span> = <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipWriter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">f</span>)
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">'jugemu jugemu gokou no surikire...'</span>
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span>
</pre>

<p>To make like gzip(1) does, run following:</p>

<pre class="ruby"><span class="ruby-identifier">orig</span> = <span class="ruby-string">'hoge.txt'</span>
<span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipWriter</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">'hoge.gz'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">gz</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">mtime</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">orig</span>)
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">orig_name</span> = <span class="ruby-identifier">orig</span>
  <span class="ruby-identifier">gz</span>.<span class="ruby-identifier">write</span> <span class="ruby-constant">IO</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">orig</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>NOTE: Due to the limitation of Rubyâ€™s finalizer, you must explicitly close
GzipWriter objects by Zlib::GzipWriter#close etc.  Otherwise, GzipWriter
will be not able to write the gzip footer and will generate a broken gzip
file.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-class_method" title="Zlib::GzipWriter.open (class method)">+ (Object) <strong>Zlib::GzipWriter.open</strong>(filename, level = nil, strategy = nil) {|gz| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Opens a file specified by <code>filename</code> for writing gzip compressed
data, and returns a GzipWriter object associated with that file.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3C-instance_method" title="#&lt;&lt; (instance method)">- (Object) <strong>&lt;&lt;</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>call-seq: &lt;&lt; string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#comment%3D-instance_method" title="#comment= (instance method)">- (Object) <strong>comment=</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specify the comment (<code>str</code>) in the gzip header.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flush-instance_method" title="#flush (instance method)">- (Object) <strong>flush</strong>(flush = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Flushes all the internal buffers of the GzipWriter object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#Zlib::GzipWriter.new (instance method)">- (Object) <strong>Zlib::GzipWriter.new</strong>(io, level, strategy) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a GzipWriter object associated with <code>io</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mtime%3D-instance_method" title="#mtime= (instance method)">- (Object) <strong>mtime=</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specify the modification time (<code>mtime</code>) in the gzip header.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#orig_name%3D-instance_method" title="#orig_name= (instance method)">- (Object) <strong>orig_name=</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specify the original name (<code>str</code>) in the gzip header.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos-instance_method" title="#pos (instance method)">- (Object) <strong>pos</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Total number of input bytes read so far.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print-instance_method" title="#print (instance method)">- (Object) <strong>print</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as IO.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#printf-instance_method" title="#printf (instance method)">- (Object) <strong>printf</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as IO.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#putc-instance_method" title="#putc (instance method)">- (Object) <strong>putc</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as IO.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts-instance_method" title="#puts (instance method)">- (Object) <strong>puts</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as IO.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tell-instance_method" title="#tell (instance method)">- (Object) <strong>tell</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Total number of input bytes read so far.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write-instance_method" title="#write (instance method)">- (Object) <strong>write</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as IO.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="GzipFile.html" title="Zlib::GzipFile (class)">GzipFile</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="GzipFile.html#close-instance_method" title="Zlib::GzipFile#close (method)">#close</a></span>, <span class='object_link'><a href="GzipFile.html#closed%3F-instance_method" title="Zlib::GzipFile#closed? (method)">#closed?</a></span>, <span class='object_link'><a href="GzipFile.html#comment-instance_method" title="Zlib::GzipFile#comment (method)">#comment</a></span>, <span class='object_link'><a href="GzipFile.html#crc-instance_method" title="Zlib::GzipFile#crc (method)">#crc</a></span>, <span class='object_link'><a href="GzipFile.html#finish-instance_method" title="Zlib::GzipFile#finish (method)">#finish</a></span>, <span class='object_link'><a href="GzipFile.html#level-instance_method" title="Zlib::GzipFile#level (method)">#level</a></span>, <span class='object_link'><a href="GzipFile.html#mtime-instance_method" title="Zlib::GzipFile#mtime (method)">#mtime</a></span>, <span class='object_link'><a href="GzipFile.html#orig_name-instance_method" title="Zlib::GzipFile#orig_name (method)">#orig_name</a></span>, <span class='object_link'><a href="GzipFile.html#os_code-instance_method" title="Zlib::GzipFile#os_code (method)">#os_code</a></span>, <span class='object_link'><a href="GzipFile.html#sync-instance_method" title="Zlib::GzipFile#sync (method)">#sync</a></span>, <span class='object_link'><a href="GzipFile.html#sync%3D-instance_method" title="Zlib::GzipFile#sync= (method)">#sync=</a></span>, <span class='object_link'><a href="GzipFile.html#to_io-instance_method" title="Zlib::GzipFile#to_io (method)">#to_io</a></span>, <span class='object_link'><a href="GzipFile.html#wrap-class_method" title="Zlib::GzipFile.wrap (method)">wrap</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>Zlib::GzipWriter.new</strong>(io, level, strategy) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a GzipWriter object associated with <code>io</code>.
<code>level</code> and <code>strategy</code> should be the same as the
arguments of Zlib::Deflate.new.  The GzipWriter object writes gzipped data
to <code>io</code>.  At least, <code>io</code> must respond to the
<code>write</code> method that behaves same as write method in IO class.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3223
3224
3225
3226
3227
3228
3229
3230
3231
3232
3233
3234
3235
3236
3237
3238
3239
3240
3241
3242
3243
3244
3245
3246
3247
3248
3249
3250
3251
3252
3253
3254
3255</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3223</span>

static VALUE
rb_gzwriter_initialize(int argc, VALUE *argv, VALUE obj)
{
    struct gzfile *gz;
    VALUE io, level, strategy, opt = Qnil;
    int err;

    if (argc &gt; 1) {
	opt = rb_check_convert_type(argv[argc-1], T_HASH, &quot;Hash&quot;, &quot;to_hash&quot;);
	if (!NIL_P(opt)) argc--;
    }

    rb_scan_args(argc, argv, &quot;12&quot;, &amp;io, &amp;level, &amp;strategy);
    Data_Get_Struct(obj, struct gzfile, gz);

    /* this is undocumented feature of zlib */
    gz-&gt;level = ARG_LEVEL(level);
    err = deflateInit2(&amp;gz-&gt;z.stream, gz-&gt;level, Z_DEFLATED,
		       -MAX_WBITS, DEF_MEM_LEVEL, ARG_STRATEGY(strategy));
    if (err != Z_OK) {
	raise_zlib_error(err, gz-&gt;z.stream.msg);
    }
    gz-&gt;io = io;
    ZSTREAM_READY(&amp;gz-&gt;z);
    rb_gzfile_ecopts(gz, opt);

    if (rb_respond_to(io, id_path)) {
	gz-&gt;path = rb_funcall(gz-&gt;io, id_path, 0);
	rb_define_singleton_method(obj, &quot;path&quot;, rb_gzfile_path, 0);
    }

    return obj;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="open-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>Zlib::GzipWriter.open</strong>(filename, level = nil, strategy = nil) {|gz| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Opens a file specified by <code>filename</code> for writing gzip compressed
data, and returns a GzipWriter object associated with that file.  Further
details of this method are found in Zlib::GzipWriter.new and
Zlib::GzipFile.wrap.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>gz</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3209
3210
3211
3212
3213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3209</span>

static VALUE
rb_gzwriter_s_open(int argc, VALUE *argv, VALUE klass)
{
    return gzfile_s_open(argc, argv, klass, &quot;wb&quot;);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="<<-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;&lt;</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>call-seq: &lt;&lt; string</p>

<p>Inputs <code>string</code> into the deflate stream just like
Zlib::Deflate#deflate, but returns the Zlib::Deflate object itself.  The
output from the stream is preserved in output buffer.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="comment=-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>comment=</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specify the comment (<code>str</code>) in the gzip header.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2993
2994
2995
2996
2997
2998
2999
3000
3001
3002
3003
3004
3005
3006
3007
3008
3009
3010</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 2993</span>

static VALUE
rb_gzfile_set_comment(VALUE obj, VALUE str)
{
    struct gzfile *gz = get_gzfile(obj);
    VALUE s;
    char *p;

    if (gz-&gt;z.flags &amp; GZFILE_FLAG_HEADER_FINISHED) {
	rb_raise(cGzError, &quot;header is already written&quot;);
    }
    s = rb_str_dup(rb_str_to_str(str));
    p = memchr(RSTRING_PTR(s), '\0', RSTRING_LEN(s));
    if (p) {
	rb_str_resize(s, p - RSTRING_PTR(s));
    }
    gz-&gt;comment = s;
    return str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flush-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>flush</strong>(flush = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Flushes all the internal buffers of the GzipWriter object.  The meaning of
<code>flush</code> is same as in Zlib::Deflate#deflate. 
<code>Zlib::SYNC_FLUSH</code> is used if <code>flush</code> is omitted.  It
is no use giving flush <code>Zlib::NO_FLUSH</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3264
3265
3266
3267
3268
3269
3270
3271
3272
3273
3274
3275
3276
3277
3278
3279
3280
3281
3282
3283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3264</span>

static VALUE
rb_gzwriter_flush(int argc, VALUE *argv, VALUE obj)
{
    struct gzfile *gz = get_gzfile(obj);
    VALUE v_flush;
    int flush;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;v_flush);

    flush = FIXNUMARG(v_flush, Z_SYNC_FLUSH);
    if (flush != Z_NO_FLUSH) {  /* prevent Z_BUF_ERROR */
	zstream_run(&amp;gz-&gt;z, (Bytef*)&quot;&quot;, 0, flush);
    }

    gzfile_write_raw(gz);
    if (rb_respond_to(gz-&gt;io, id_flush)) {
	rb_funcall(gz-&gt;io, id_flush, 0);
    }
    return obj;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mtime=-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>mtime=</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specify the modification time (<code>mtime</code>) in the gzip header.
Using a Fixnum or Integer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2944
2945
2946
2947
2948
2949
2950
2951
2952
2953
2954
2955
2956
2957
2958
2959
2960
2961
2962</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 2944</span>

static VALUE
rb_gzfile_set_mtime(VALUE obj, VALUE mtime)
{
    struct gzfile *gz = get_gzfile(obj);
    VALUE val;

    if (gz-&gt;z.flags &amp; GZFILE_FLAG_HEADER_FINISHED) {
	rb_raise(cGzError, &quot;header is already written&quot;);
    }

    if (FIXNUM_P(mtime)) {
	gz-&gt;mtime = FIX2INT(mtime);
    }
    else {
	val = rb_Integer(mtime);
	gz-&gt;mtime = FIXNUM_P(val) ? FIX2UINT(val) : rb_big2ulong(val);
    }
    return mtime;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="orig_name=-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>orig_name=</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specify the original name (<code>str</code>) in the gzip header.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2969
2970
2971
2972
2973
2974
2975
2976
2977
2978
2979
2980
2981
2982
2983
2984
2985
2986</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 2969</span>

static VALUE
rb_gzfile_set_orig_name(VALUE obj, VALUE str)
{
    struct gzfile *gz = get_gzfile(obj);
    VALUE s;
    char *p;

    if (gz-&gt;z.flags &amp; GZFILE_FLAG_HEADER_FINISHED) {
	rb_raise(cGzError, &quot;header is already written&quot;);
    }
    s = rb_str_dup(rb_str_to_str(str));
    p = memchr(RSTRING_PTR(s), '\0', RSTRING_LEN(s));
    if (p) {
	rb_str_resize(s, p - RSTRING_PTR(s));
    }
    gz-&gt;orig_name = s;
    return str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pos-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pos</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Total number of input bytes read so far.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3113
3114
3115
3116
3117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3113</span>

static VALUE
rb_gzfile_total_in(VALUE obj)
{
    return rb_uint2inum(get_gzfile(obj)-&gt;z.stream.total_in);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>print</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as IO.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="printf-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>printf</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as IO.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="putc-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>putc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as IO.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3305
3306
3307
3308
3309
3310
3311
3312
3313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3305</span>

static VALUE
rb_gzwriter_putc(VALUE obj, VALUE ch)
{
    struct gzfile *gz = get_gzfile(obj);
    char c = NUM2CHR(ch);

    gzfile_write(gz, (Bytef*)&amp;c, 1);
    return ch;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>puts</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as IO.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tell-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tell</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Total number of input bytes read so far.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3113
3114
3115
3116
3117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3113</span>

static VALUE
rb_gzfile_total_in(VALUE obj)
{
    return rb_uint2inum(get_gzfile(obj)-&gt;z.stream.total_in);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>write</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as IO.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3288
3289
3290
3291
3292
3293
3294
3295
3296
3297
3298
3299
3300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/zlib/zlib.c', line 3288</span>

static VALUE
rb_gzwriter_write(VALUE obj, VALUE str)
{
    struct gzfile *gz = get_gzfile(obj);

    if (TYPE(str) != T_STRING)
	str = rb_obj_as_string(str);
    if (gz-&gt;enc2 &amp;&amp; gz-&gt;enc2 != rb_ascii8bit_encoding()) {
	str = rb_str_conv_enc(str, rb_enc_get(str), gz-&gt;enc2);
    }
    gzfile_write(gz, (Bytef*)RSTRING_PTR(str), RSTRING_LEN(str));
    return INT2FIX(RSTRING_LEN(str));
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:16:27 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>