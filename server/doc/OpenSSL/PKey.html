<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: OpenSSL::PKey
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!OpenSSL/PKey.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span>
     &raquo; 
    <span class="title">PKey</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: OpenSSL::PKey
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">ext/openssl/ossl_pkey.c<span class="defines">,<br />
  ext/openssl/ossl_pkey_dh.c,<br /> ext/openssl/ossl_pkey_ec.c,<br /> ext/openssl/ossl_pkey.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2 id="label-Asymmetric+Public+Key+Algorithms">Asymmetric Public Key Algorithms</h2>

<p>Asymmetric public key algorithms solve the problem of establishing and
sharing secret keys to en-/decrypt messages. The key in such an algorithm
consists of two parts: a public key that may be distributed to others and a
private key that needs to remain secret.</p>

<p>Messages encrypted with a public key can only be encrypted by recipients
that are in possession of the associated private key. Since public key
algorithms are considerably slower than symmetric key algorithms (cf.
OpenSSL::Cipher) they are often used to establish a symmetric key shared
between two parties that are in possession of each other’s public key.</p>

<p>Asymmetric algorithms offer a lot of nice features that are used in a lot
of different areas. A very common application is the creation and
validation of digital signatures. To sign a document, the signatory
generally uses a message digest algorithm (cf. OpenSSL::Digest) to compute
a digest of the document that is then encrypted (i.e. signed) using the
private key. Anyone in possession of the public key may then verify the
signature by computing the message digest of the original document on their
own, decrypting the signature using the signatory’s public key and
comparing the result to the message digest they previously computed. The
signature is valid if and only if the decrypted signature is equal to this
message digest.</p>

<p>The PKey module offers support for three popular public/private key
algorithms:</p>
<ul><li>
<p>RSA (OpenSSL::PKey::RSA)</p>
</li><li>
<p>DSA (OpenSSL::PKey::DSA)</p>
</li><li>
<p>Elliptic Curve Cryptography (OpenSSL::PKey::EC)</p>
</li></ul>

<p>Each of these implementations is in fact a sub-class of the abstract PKey
class which offers the interface for supporting digital signatures in the
form of PKey#sign and PKey#verify.</p>

<h2 id="label-Diffie-Hellman+Key+Exchange">Diffie-Hellman Key Exchange</h2>

<p>Finally PKey also features OpenSSL::PKey::DH, an implementation of the
Diffie-Hellman key exchange protocol based on discrete logarithms in finite
fields, the same basis that DSA is built on. The Diffie-Hellman protocol
can be used to exchange (symmetric) keys over insecure channels without
needing any prior joint knowledge between the participating parties. As the
security of DH demands relatively long “public keys” (i.e. the part that is
overtly transmitted between participants) DH tends to be quite slow. If
security or speed is your primary concern, OpenSSL::PKey::EC offers another
implementation of the Diffie-Hellman protocol.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="PKey/DH.html" title="OpenSSL::PKey::DH (class)">DH</a></span>, <span class='object_link'><a href="PKey/DHError.html" title="OpenSSL::PKey::DHError (class)">DHError</a></span>, <span class='object_link'><a href="PKey/DSA.html" title="OpenSSL::PKey::DSA (class)">DSA</a></span>, <span class='object_link'><a href="PKey/DSAError.html" title="OpenSSL::PKey::DSAError (class)">DSAError</a></span>, <span class='object_link'><a href="PKey/EC.html" title="OpenSSL::PKey::EC (class)">EC</a></span>, <span class='object_link'><a href="PKey/ECError.html" title="OpenSSL::PKey::ECError (class)">ECError</a></span>, <span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span>, <span class='object_link'><a href="PKey/PKeyError.html" title="OpenSSL::PKey::PKeyError (class)">PKeyError</a></span>, <span class='object_link'><a href="PKey/RSA.html" title="OpenSSL::PKey::RSA (class)">RSA</a></span>, <span class='object_link'><a href="PKey/RSAError.html" title="OpenSSL::PKey::RSAError (class)">RSAError</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read-class_method" title="read (class method)">+ (Object) <strong>read</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<h3 id="label-Parameters+%2A+string+is+a+DER-+or+PEM-encoded+string+containing+an+arbitrary+private+or+public+key.">Parameters * <code>string</code> is a DER- or PEM-encoded string containing an arbitrary private or public key.</h3>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="read-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>) <strong>OpenSSL::PKey.read</strong>(string[, pwd ]) </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>) <strong>OpenSSL::PKey.read</strong>(file[, pwd ]) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<h3 id="label-Parameters">Parameters</h3>
<ul><li>
<p><code>string</code> is a DER- or PEM-encoded string containing an arbitrary
private</p>
</li></ul>

<p>or public key.</p>
<ul><li>
<p><code>file</code> is an instance of <code>File</code> containing a DER- or
PEM-encoded</p>
</li></ul>

<p>arbitrary private or public key.</p>
<ul><li>
<p><code>pwd</code> is an optional password in case <code>string</code> or
<code>file</code> is an encrypted</p>
</li></ul>

<p>PEM resource.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>) <strong>OpenSSL::PKey.read</strong>(string[, pwd ]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>) <strong>OpenSSL::PKey.read</strong>(file[, pwd ]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="PKey/PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_pkey.c', line 101</span>

static VALUE
ossl_pkey_new_from_data(int argc, VALUE *argv, VALUE self)
{
     EVP_PKEY *pkey;
     BIO *bio;
     VALUE data, pass;
     char *passwd = NULL;

     rb_scan_args(argc, argv, &quot;11&quot;, &amp;data, &amp;pass);

     bio = ossl_obj2bio(data);
     if (!(pkey = d2i_PrivateKey_bio(bio, NULL))) {
	OSSL_BIO_reset(bio);
	if (!NIL_P(pass)) {
	    passwd = StringValuePtr(pass);
	}
	if (!(pkey = PEM_read_bio_PrivateKey(bio, NULL, ossl_pem_passwd_cb, passwd))) {
	    OSSL_BIO_reset(bio);
	    if (!(pkey = d2i_PUBKEY_bio(bio, NULL))) {
		OSSL_BIO_reset(bio);
		if (!NIL_P(pass)) {
		    passwd = StringValuePtr(pass);
		}
		pkey = PEM_read_bio_PUBKEY(bio, NULL, ossl_pem_passwd_cb, passwd);
	    }
	}
    }

    BIO_free(bio);
    if (!pkey)
	ossl_raise(rb_eArgError, &quot;Could not parse PKey&quot;);
    return ossl_pkey_new(pkey);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Nov 19 10:16:18 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>